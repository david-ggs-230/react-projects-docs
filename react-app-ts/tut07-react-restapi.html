

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7. React RESTful API &mdash; React Tutorial with Typescript 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom-theme.css?v=e6852a23" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8. React Router" href="tut08-react-router.html" />
    <link rel="prev" title="6. React Form" href="tut06-react-form.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            React Tutorial with Typescript
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">React Projects with Typescript</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tut01-create-reactjs-app.html">1. Tut01-Create a React App on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut02-writing-markup-with-jsx.html">2. Tut02-Writing Markup with JSX</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut03-react-components.html">3. Tut03-React Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut04-class-components.html">4. Tut04-React Class Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut05-function-components.html">5. Tut05-React Function Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut06-react-form.html">6. React Form</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. React RESTful API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">7.1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-fetch-api">7.1.1. The Fetch API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-axios-library">7.1.2. The axios library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#create-a-react-project-structure">7.2. Create a React Project Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-react-project">7.2.1. Create a React Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#eslint-and-prettier-configuration">7.2.2. ESLint and Prettier Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-project-css-styles">7.2.3. Create Project CSS Styles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#react-restful-api-components">7.3. React RESTful API Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#components-for-data-display">7.3.1. Components for Data Display</a></li>
<li class="toctree-l3"><a class="reference internal" href="#components-for-handling-data-inputs">7.3.2. Components for Handling Data Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">7.3.3. The Fetch API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#making-get-requests">7.3.3.1. Making GET Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#making-post-requests">7.3.3.2. Making POST Requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-axios-api">7.3.4. The axios API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">7.3.4.1. Making GET Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">7.3.4.2. Making POST Requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#function-component-the-user-interface">7.3.5. Function Component - the User Interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-development-app">7.4. Run the development app</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hosting-the-react-app-on-github-pages">7.5. Hosting the React App on GitHub Pages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-the-app">7.5.1. Build the App</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hosting-the-app">7.5.2. Hosting the App</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sources-and-demos">7.6. Sources and Demos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tut08-react-router.html">8. React Router</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut09-react-component-styling.html">9. React Component Styling</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">React Tutorial with Typescript</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">7. </span>React RESTful API</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="title-center h1" id="react-restful-api">
<span id="tut07-react-restapi"></span><h1><span class="section-number">7. </span>React RESTful API<a class="headerlink" href="#react-restful-api" title="Link to this heading"></a></h1>
<section id="introduction">
<h2><span class="section-number">7.1. </span>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>Integrating RESTful APIs with React enhances the functionality of web applications by enabling them to fetch and update data dynamically. This integration facilitates a seamless user experience, ensuring that the application remains responsive and up-to-date.</p>
<p>Make API Requests in React:</p>
<blockquote>
<div><ul class="simple">
<li><p>Using the fetch API − The fetch API is a built-in JavaScript method for making network requests.</p></li>
<li><p>Using axios library for HTTP Requests − axios is a popular library for making HTTP requests.</p></li>
</ul>
</div></blockquote>
<section id="the-fetch-api">
<h3><span class="section-number">7.1.1. </span>The Fetch API<a class="headerlink" href="#the-fetch-api" title="Link to this heading"></a></h3>
<p>The Fetch API is a modern interface for making HTTP requests in the browser. It provides a more powerful and flexible way to handle network requests compared to older techniques like XMLHttpRequest. The fetch function is used to make a GET request to the specified API endpoint, and the response is converted to JSON using response.json().</p>
<blockquote>
<div><ul>
<li><p>Making GET Requests</p>
<blockquote>
<div><ul>
<li><p>GET request</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="p">[</span><span class="n">data</span><span class="p">,</span> <span class="n">setData</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">([]);</span>

<span class="n">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">fetchData</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="n">const</span> <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;http://localhost:3001/posts&#39;</span><span class="p">);</span>
      <span class="n">const</span> <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">();</span>
      <span class="n">setData</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
    <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">console</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Error fetching data:&#39;</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="n">fetchData</span><span class="p">();</span>
<span class="p">},</span> <span class="p">[]);</span>
</pre></div>
</div>
</li>
<li><p>GET request with query parameters</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="p">[</span><span class="n">data</span><span class="p">,</span> <span class="n">setData</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">([]);</span>
<span class="n">const</span> <span class="p">[</span><span class="n">loading</span><span class="p">,</span> <span class="n">setLoading</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>

<span class="o">//</span> <span class="k">with</span> <span class="n">setTimeout</span>
<span class="n">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">fetchData</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="o">//</span> <span class="n">Simulating</span> <span class="n">a</span> <span class="n">delay</span> <span class="n">to</span> <span class="n">show</span> <span class="n">loading</span> <span class="n">state</span>
      <span class="n">setTimeout</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="n">const</span> <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;http://localhost:3001/posts?id=1&#39;</span><span class="p">);</span>
        <span class="n">const</span> <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">();</span>
        <span class="n">setData</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
        <span class="n">setLoading</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
      <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">console</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Error fetching data:&#39;</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
      <span class="n">setLoading</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="n">fetchData</span><span class="p">();</span>
<span class="p">},</span> <span class="p">[]);</span>
</pre></div>
</div>
</li>
<li><p>GET request with query parameters</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="p">[</span><span class="n">data</span><span class="p">,</span> <span class="n">setData</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">([]);</span>
<span class="n">const</span> <span class="p">[</span><span class="n">loading</span><span class="p">,</span> <span class="n">setLoading</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>

<span class="n">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">fetchData</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;http://localhost:3001/posts?id=1&#39;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
            <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="n">setData</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
                <span class="n">setLoading</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
            <span class="p">})</span>
            <span class="o">.</span><span class="n">catch</span><span class="p">((</span><span class="n">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="n">console</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Error fetching data:&#39;</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
                <span class="n">setLoading</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
            <span class="p">});</span>
  <span class="p">};</span>

  <span class="n">fetchData</span><span class="p">();</span>
<span class="p">},</span> <span class="p">[]);</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Making POST Requests</p>
<blockquote>
<div><ul>
<li><p>POST request</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="p">[</span><span class="n">posts</span><span class="p">,</span> <span class="n">setPosts</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span> <span class="p">([]);</span>
<span class="n">const</span> <span class="p">[</span><span class="n">title</span><span class="p">,</span> <span class="n">setTitle</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="n">const</span> <span class="p">[</span><span class="n">body</span><span class="p">,</span> <span class="n">setBody</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="o">//</span> <span class="o">...</span>
<span class="n">const</span> <span class="n">addPosts</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="k">await</span> <span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;http://localhost:3001/posts&#39;</span><span class="p">,</span> <span class="p">{</span>
      <span class="n">method</span><span class="p">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
      <span class="n">body</span><span class="p">:</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">({</span>
         <span class="n">title</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
         <span class="n">body</span><span class="p">:</span> <span class="n">body</span><span class="p">,</span>
         <span class="n">userId</span><span class="p">:</span> <span class="n">Math</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">.</span><span class="n">toString</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
      <span class="p">}),</span>
      <span class="n">headers</span><span class="p">:</span> <span class="p">{</span>
         <span class="s1">&#39;Content-type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json; charset=UTF-8&#39;</span><span class="p">,</span>
      <span class="p">},</span>
   <span class="p">})</span>
      <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
      <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
         <span class="n">setPosts</span><span class="p">((</span><span class="n">posts</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">data</span><span class="p">,</span> <span class="o">...</span><span class="n">posts</span><span class="p">]);</span>
         <span class="n">setTitle</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
         <span class="n">setBody</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
      <span class="p">})</span>
      <span class="o">.</span><span class="n">catch</span><span class="p">((</span><span class="n">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
         <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="p">);</span>
      <span class="p">});</span>
<span class="p">};</span>

<span class="n">const</span> <span class="n">handleSubmit</span> <span class="o">=</span> <span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
   <span class="n">addPosts</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="the-axios-library">
<h3><span class="section-number">7.1.2. </span>The axios library<a class="headerlink" href="#the-axios-library" title="Link to this heading"></a></h3>
<p>Axios is an HTTP client library based on promises that makes it simple to send asynchronous HTTP requests to REST endpoints.</p>
<blockquote>
<div><ul>
<li><p>Install Axios by running the following command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># npm</span>
<span class="n">npm</span> <span class="n">install</span> <span class="n">axios</span>
<span class="c1"># yarn</span>
<span class="n">yarn</span> <span class="n">add</span> <span class="n">axios</span>
</pre></div>
</div>
</li>
<li><p>Create an instance</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">axios</span> <span class="kn">from</span><span class="w"> </span><span class="s2">&quot;axios&quot;</span><span class="p">;</span>

<span class="n">const</span> <span class="n">client</span> <span class="o">=</span> <span class="n">axios</span><span class="o">.</span><span class="n">create</span><span class="p">({</span>
   <span class="n">baseURL</span><span class="p">:</span> <span class="s1">&#39;http://localhost:3001/posts&#39;</span>
<span class="p">});</span>
</pre></div>
</div>
</li>
<li><p>Perform a GET Request in React With Axios</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;?id=10&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="n">setPosts</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">);</span>
   <span class="p">});</span>
<span class="p">},</span> <span class="p">[]);</span>
</pre></div>
</div>
</li>
<li><p>Perform a POST Request in React With Axios</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">addPosts</span> <span class="o">=</span> <span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="n">client</span>
      <span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span>
         <span class="n">title</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
         <span class="n">body</span><span class="p">:</span> <span class="n">body</span><span class="p">,</span>
      <span class="p">})</span>
      <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
         <span class="n">setPosts</span><span class="p">((</span><span class="n">posts</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="o">...</span><span class="n">posts</span><span class="p">]);</span>
      <span class="p">});</span>
<span class="p">};</span>
</pre></div>
</div>
</li>
<li><p>Perform a DELETE Request in React With Axios</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>const deletePost = (id) =&gt; {
   client.delete(`${id}`);
   setPosts(
      posts.filter((post) =&gt; {
         return post.id !== id;
      })
   );
};
</pre></div>
</div>
</li>
<li><p>Use Async/Await in Axios</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import React, { useState, useEffect } from &#39;react&#39;;

const App = () =&gt; {
   const [title, setTitle] = useState(&#39;&#39;);
   const [body, setBody] = useState(&#39;&#39;);
   const [posts, setPosts] = useState([]);

   // GET with Axios
   useEffect(() =&gt; {
      const fetchPost = async () =&gt; {
         let response = await client.get(&#39;?_limit=10&#39;);
         setPosts(response.data);
      };
      fetchPost();
   }, []);

   // Delete with Axios
   const deletePost = async (id) =&gt; {
      await client.delete(`${id}`);
      setPosts(
         posts.filter((post) =&gt; {
            return post.id !== id;
         })
      );
   };

   // Post with Axios
   const addPosts = async (title, body) =&gt; {
      let response = await client.post(&#39;&#39;, {
         title: title,
         body: body,
      });
      setPosts((posts) =&gt; [response.data, ...posts]);
   };

   const handleSubmit = (e) =&gt; {
      e.preventDefault();
      addPosts(title, body);
   };

   return (
      // ...
   );
};

export default App;
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="create-a-react-project-structure">
<h2><span class="section-number">7.2. </span>Create a React Project Structure<a class="headerlink" href="#create-a-react-project-structure" title="Link to this heading"></a></h2>
<section id="create-a-react-project">
<h3><span class="section-number">7.2.1. </span>Create a React Project<a class="headerlink" href="#create-a-react-project" title="Link to this heading"></a></h3>
<blockquote>
<div><ul>
<li><p>Create a ReactJS Project</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yarn</span> <span class="n">create</span> <span class="n">vite</span> <span class="n">tut07</span><span class="o">-</span><span class="n">react</span><span class="o">-</span><span class="n">restapi</span> <span class="o">--</span><span class="n">template</span> <span class="n">react</span><span class="o">-</span><span class="n">ts</span>
</pre></div>
</div>
</li>
<li><p>Move inside the ReactJS project folder &lt;tut07-react-restapi&gt;</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">tut07</span><span class="o">-</span><span class="n">react</span><span class="o">-</span><span class="n">restapi</span>
</pre></div>
</div>
</li>
<li><p>Install the dependencies</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yarn</span> <span class="n">install</span>
</pre></div>
</div>
</li>
<li><p>Install library dependencies</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yarn</span> <span class="n">add</span> <span class="n">axios</span> <span class="n">react</span><span class="o">-</span><span class="n">hook</span><span class="o">-</span><span class="n">form</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</section>
<section id="eslint-and-prettier-configuration">
<h3><span class="section-number">7.2.2. </span>ESLint and Prettier Configuration<a class="headerlink" href="#eslint-and-prettier-configuration" title="Link to this heading"></a></h3>
<blockquote>
<div><ul>
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">EditorConfig</span></code> extension for VS Code if you haven’t already.</p></li>
<li><p>Add .editorconfig (<a class="reference external" href="https://editorconfig.org">https://editorconfig.org</a>) to the root of the project</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-number">Listing 7.1 </span><span class="caption-text">contents of .editorconfig</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-tsx notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nx">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="p">[</span><span class="o">*</span><span class="p">]</span>
<span class="linenos">4</span><span class="nx">indent_style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">space</span>
<span class="linenos">5</span><span class="nx">indent_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2</span>
<span class="linenos">6</span><span class="nx">end_of_line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lf</span>
<span class="linenos">7</span><span class="nx">insert_final_newline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="linenos">8</span><span class="nx">trim_trailing_whitespace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p>Reload VS Code (open the command palette, find and use <code class="docutils literal notranslate"><span class="pre">Reload</span> <span class="pre">Window</span></code>).</p></li>
<li><p>Install dependencies</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yarn</span> <span class="n">add</span> <span class="o">--</span><span class="n">dev</span> <span class="n">prettier</span> <span class="n">eslint</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">prettier</span> <span class="n">eslint</span><span class="o">-</span><span class="n">config</span><span class="o">-</span><span class="n">prettier</span> <span class="n">eslint</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">react</span>
</pre></div>
</div>
</li>
<li><p>Modify the eslint.config.js file with following contents:</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-number">Listing 7.2 </span><span class="caption-text">contents of eslint.config.js</span><a class="headerlink" href="#id5" title="Link to this code"></a></div>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span><span class="w"> </span><span class="nx">js</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@eslint/js&quot;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span><span class="w"> </span><span class="nx">globals</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;globals&quot;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="k">import</span><span class="w"> </span><span class="nx">reactHooks</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;eslint-plugin-react-hooks&quot;</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="k">import</span><span class="w"> </span><span class="nx">reactRefresh</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;eslint-plugin-react-refresh&quot;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">import</span><span class="w"> </span><span class="nx">tseslint</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;typescript-eslint&quot;</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="k">import</span><span class="w"> </span><span class="nx">react</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;eslint-plugin-react&quot;</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="k">import</span><span class="w"> </span><span class="nx">eslintPluginPrettier</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;eslint-plugin-prettier/recommended&quot;</span><span class="p">;</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">tseslint</span>
<span class="linenos">10</span><span class="w">  </span><span class="p">.</span><span class="nx">config</span><span class="p">(</span>
<span class="linenos">11</span><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">ignores</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;dist&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<span class="linenos">12</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">13</span><span class="w">      </span><span class="c1">//extends: [js.configs.recommended, ...tseslint.configs.recommended],</span>
<span class="linenos">14</span><span class="w">      </span><span class="k">extends</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos">15</span><span class="w">        </span><span class="nx">js</span><span class="p">.</span><span class="nx">configs</span><span class="p">.</span><span class="nx">recommended</span><span class="p">,</span>
<span class="linenos">16</span><span class="w">        </span><span class="p">...</span><span class="nx">tseslint</span><span class="p">.</span><span class="nx">configs</span><span class="p">.</span><span class="nx">recommendedTypeChecked</span><span class="p">,</span>
<span class="linenos">17</span><span class="w">      </span><span class="p">],</span>
<span class="linenos">18</span><span class="w">      </span><span class="nx">files</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;**/*.{ts,tsx}&quot;</span><span class="p">],</span>
<span class="linenos">19</span><span class="w">      </span><span class="nx">languageOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">20</span><span class="w">        </span><span class="nx">ecmaVersion</span><span class="o">:</span><span class="w"> </span><span class="mf">2020</span><span class="p">,</span>
<span class="linenos">21</span><span class="w">        </span><span class="nx">globals</span><span class="o">:</span><span class="w"> </span><span class="nx">globals</span><span class="p">.</span><span class="nx">browser</span><span class="p">,</span>
<span class="linenos">22</span><span class="w">        </span><span class="nx">parserOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">23</span><span class="w">          </span><span class="nx">project</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;./tsconfig.node.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;./tsconfig.app.json&quot;</span><span class="p">],</span>
<span class="linenos">24</span><span class="w">          </span><span class="nx">tsconfigRootDir</span><span class="o">:</span><span class="w"> </span><span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">dirname</span><span class="p">,</span>
<span class="linenos">25</span><span class="w">        </span><span class="p">},</span>
<span class="linenos">26</span><span class="w">      </span><span class="p">},</span>
<span class="linenos">27</span><span class="w">      </span><span class="nx">settings</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">28</span><span class="w">        </span><span class="nx">react</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">29</span><span class="w">          </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;detect&quot;</span><span class="p">,</span>
<span class="linenos">30</span><span class="w">        </span><span class="p">},</span>
<span class="linenos">31</span><span class="w">      </span><span class="p">},</span>
<span class="linenos">32</span><span class="w">      </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">33</span><span class="w">        </span><span class="s2">&quot;react-hooks&quot;</span><span class="o">:</span><span class="w"> </span><span class="nx">reactHooks</span><span class="p">,</span>
<span class="linenos">34</span><span class="w">        </span><span class="s2">&quot;react-refresh&quot;</span><span class="o">:</span><span class="w"> </span><span class="nx">reactRefresh</span><span class="p">,</span>
<span class="linenos">35</span><span class="w">        </span><span class="nx">react</span><span class="o">:</span><span class="w"> </span><span class="nx">react</span><span class="p">,</span>
<span class="linenos">36</span><span class="w">      </span><span class="p">},</span>
<span class="linenos">37</span><span class="w">      </span><span class="nx">rules</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">38</span><span class="w">        </span><span class="p">...</span><span class="nx">reactHooks</span><span class="p">.</span><span class="nx">configs</span><span class="p">.</span><span class="nx">recommended</span><span class="p">.</span><span class="nx">rules</span><span class="p">,</span>
<span class="linenos">39</span><span class="w">        </span><span class="s2">&quot;react-refresh/only-export-components&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos">40</span><span class="w">          </span><span class="s2">&quot;warn&quot;</span><span class="p">,</span>
<span class="linenos">41</span><span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nx">allowConstantExport</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span>
<span class="linenos">42</span><span class="w">        </span><span class="p">],</span>
<span class="linenos">43</span><span class="w">        </span><span class="p">...</span><span class="nx">react</span><span class="p">.</span><span class="nx">configs</span><span class="p">.</span><span class="nx">recommended</span><span class="p">.</span><span class="nx">rules</span><span class="p">,</span>
<span class="linenos">44</span><span class="w">        </span><span class="p">...</span><span class="nx">react</span><span class="p">.</span><span class="nx">configs</span><span class="p">[</span><span class="s2">&quot;jsx-runtime&quot;</span><span class="p">].</span><span class="nx">rules</span><span class="p">,</span>
<span class="linenos">45</span><span class="w">      </span><span class="p">},</span>
<span class="linenos">46</span><span class="w">    </span><span class="p">},</span>
<span class="linenos">47</span><span class="w">  </span><span class="p">)</span>
<span class="linenos">48</span><span class="w">  </span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">eslintPluginPrettier</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p>Edit the eslint scripts in the package.json file:</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-number">Listing 7.3 </span><span class="caption-text">contents of package.json</span><a class="headerlink" href="#id6" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="s2">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">2</span>  <span class="o">...</span> <span class="p">,</span>
<span class="linenos">3</span>  <span class="s2">&quot;lint&quot;</span><span class="p">:</span> <span class="s2">&quot;eslint src ./*.js ./*.ts --ext ts,tsx --report-unused-disable-directives --max-warnings 0&quot;</span><span class="p">,</span>
<span class="linenos">4</span>  <span class="s2">&quot;lint:fix&quot;</span><span class="p">:</span> <span class="s2">&quot;eslint src ./*.js ./*.ts --ext ts,tsx --fix&quot;</span><span class="p">,</span>
<span class="linenos">5</span><span class="p">},</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p>Run ESLint:</p>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>yarn<span class="w"> </span>lint
<span class="linenos">2</span>yarn<span class="w"> </span>lint:fix
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="create-project-css-styles">
<h3><span class="section-number">7.2.3. </span>Create Project CSS Styles<a class="headerlink" href="#create-project-css-styles" title="Link to this heading"></a></h3>
<blockquote>
<div><p>Create the src/list-styles.css file with the following contents:</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-number">Listing 7.4 </span><span class="caption-text">src/list-styles.css</span><a class="headerlink" href="#id7" title="Link to this code"></a></div>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="p">.</span><span class="nc">list-container</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2</span><span class="w">  </span><span class="k">max-width</span><span class="p">:</span><span class="w"> </span><span class="mi">800</span><span class="kt">px</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="n">max-content</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="w">  </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="w">  </span><span class="k">font-family</span><span class="p">:</span><span class="w"> </span><span class="n">Arial</span><span class="p">,</span><span class="w"> </span><span class="kc">sans-serif</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="p">}</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="nt">ol</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9</span><span class="w">  </span><span class="k">padding-left</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">10</span><span class="w">  </span><span class="k">counter-reset</span><span class="p">:</span><span class="w"> </span><span class="n">list-counter</span><span class="p">;</span>
<span class="linenos">11</span><span class="p">}</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="p">.</span><span class="nc">list-item</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">14</span><span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="linenos">15</span><span class="w">  </span><span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="linenos">16</span><span class="w">  </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">17</span><span class="p">}</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="p">.</span><span class="nc">list-item</span><span class="w"> </span><span class="nt">div</span><span class="w"> </span><span class="nt">button</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">20</span><span class="w">  </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="kt">px</span><span class="p">;</span>
<span class="linenos">21</span><span class="w">  </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="nb">rgb</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w"> </span><span class="mi">82</span><span class="p">);</span>
<span class="linenos">22</span><span class="p">}</span>
<span class="linenos">23</span><span class="p">.</span><span class="nc">list-item-number</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">24</span><span class="w">  </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span>
<span class="linenos">25</span><span class="w">  </span><span class="k">margin-right</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="linenos">26</span><span class="w">  </span><span class="k">counter-increment</span><span class="p">:</span><span class="w"> </span><span class="n">list-counter</span><span class="p">;</span>
<span class="linenos">27</span><span class="p">}</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="p">.</span><span class="nc">list-item-number</span><span class="p">::</span><span class="nd">before</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">30</span><span class="w">  </span><span class="k">content</span><span class="p">:</span><span class="w"> </span><span class="nb">counter</span><span class="p">(</span><span class="n">list</span><span class="nv">-counter</span><span class="p">)</span><span class="w"> </span><span class="s2">&quot;. &quot;</span><span class="p">;</span>
<span class="linenos">31</span><span class="p">}</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="p">.</span><span class="nc">list-item-content</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">34</span><span class="w">  </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="mh">#ccc</span><span class="p">;</span>
<span class="linenos">35</span><span class="w">  </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="kt">px</span><span class="p">;</span>
<span class="linenos">36</span><span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="linenos">37</span><span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#f9f9f9</span><span class="p">;</span>
<span class="linenos">38</span><span class="w">  </span><span class="k">flex-grow</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="linenos">39</span><span class="p">}</span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="p">.</span><span class="nc">list-item-content</span><span class="w"> </span><span class="nt">h3</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">42</span><span class="w">  </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">43</span><span class="w">  </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">em</span><span class="p">;</span>
<span class="linenos">44</span><span class="p">}</span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="p">.</span><span class="nc">list-item-content</span><span class="w"> </span><span class="nt">p</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">47</span><span class="w">  </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="kt">px</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="linenos">48</span><span class="w">  </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9</span><span class="kt">em</span><span class="p">;</span>
<span class="linenos">49</span><span class="p">}</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="p">.</span><span class="nc">red-color</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">52</span><span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ff0000</span><span class="p">;</span>
<span class="linenos">53</span><span class="p">}</span>
<span class="linenos">54</span>
<span class="linenos">55</span><span class="p">.</span><span class="nc">blue-color</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">56</span><span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0011ff</span><span class="p">;</span>
<span class="linenos">57</span><span class="p">}</span>
<span class="linenos">58</span>
<span class="linenos">59</span><span class="p">.</span><span class="nc">bg-red</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">60</span><span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#ff0000</span><span class="p">;</span>
<span class="linenos">61</span><span class="p">}</span>
<span class="linenos">62</span>
<span class="linenos">63</span><span class="p">.</span><span class="nc">bg-blue</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">64</span><span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#0011ff</span><span class="p">;</span>
<span class="linenos">65</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div></blockquote>
</div></blockquote>
</section>
</section>
<section id="react-restful-api-components">
<h2><span class="section-number">7.3. </span>React RESTful API Components<a class="headerlink" href="#react-restful-api-components" title="Link to this heading"></a></h2>
<section id="components-for-data-display">
<h3><span class="section-number">7.3.1. </span>Components for Data Display<a class="headerlink" href="#components-for-data-display" title="Link to this heading"></a></h3>
<blockquote>
<div><ul>
<li><p>Define a function component for displaying each phone data.</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-number">Listing 7.5 </span><span class="caption-text">src/ComponentPhone.tsx</span><a class="headerlink" href="#id8" title="Link to this code"></a></div>
<div class="highlight-tsx notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kd">const</span><span class="w"> </span><span class="nx">ComponentPhone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="linenos"> 2</span><span class="w">  </span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;-1&quot;</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="w">  </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Unknown Name&quot;</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="w">  </span><span class="nx">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Unknown&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="w">  </span><span class="nx">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Unknown&quot;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="w">  </span><span class="nx">capacity</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="linenos">10</span><span class="w">  </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="linenos">11</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12</span><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">labelStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13</span><span class="w">    </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;inline-block&quot;</span><span class="p">,</span>
<span class="linenos">14</span><span class="w">    </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;3rem&quot;</span><span class="p">,</span>
<span class="linenos">15</span><span class="w">    </span><span class="nx">marginRight</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1.5rem&quot;</span><span class="p">,</span>
<span class="linenos">16</span><span class="w">  </span><span class="p">};</span>
<span class="linenos">17</span><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">itemStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">18</span><span class="w">    </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;inline-block&quot;</span><span class="p">,</span>
<span class="linenos">19</span><span class="w">    </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;8rem&quot;</span><span class="p">,</span>
<span class="linenos">20</span><span class="w">    </span><span class="nx">marginRight</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1.5rem&quot;</span><span class="p">,</span>
<span class="linenos">21</span><span class="w">  </span><span class="p">};</span>
<span class="linenos">22</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">23</span><span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span>
<span class="linenos">24</span><span class="w">      </span><span class="na">style</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">marginTop</span><span class="o">:</span><span class="w"> </span><span class="kt">10</span><span class="p">,</span><span class="w"> </span><span class="nx">textAlign</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">marginLeft</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;40px&quot;</span><span class="w"> </span><span class="p">}}</span>
<span class="linenos">25</span><span class="w">      </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span>
<span class="linenos">26</span><span class="w">    </span><span class="p">&gt;</span>
<span class="linenos">27</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">28</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">labelStyle</span><span class="p">}&gt;</span><span class="nx">ID</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">29</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">itemStyle</span><span class="p">}</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;blue-color&quot;</span><span class="p">&gt;</span>
<span class="linenos">30</span><span class="w">          </span><span class="p">{</span><span class="nx">id</span><span class="p">}</span>
<span class="linenos">31</span><span class="w">        </span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">32</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">33</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">34</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">labelStyle</span><span class="p">}&gt;</span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">35</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">itemStyle</span><span class="p">}&gt;{</span><span class="nx">name</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">36</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">37</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">38</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">labelStyle</span><span class="p">}&gt;</span><span class="nx">Capacity</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">39</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">itemStyle</span><span class="p">}&gt;{</span><span class="nx">capacity</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">40</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">41</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">42</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">labelStyle</span><span class="p">}&gt;</span><span class="nx">Price</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">43</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">itemStyle</span><span class="p">}&gt;{</span><span class="nx">price</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">44</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">45</span><span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">46</span><span class="w">  </span><span class="p">);</span>
<span class="linenos">47</span><span class="p">};</span>
<span class="linenos">48</span>
<span class="linenos">49</span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">ComponentPhone</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p>Define a function component for displaying each people data.</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-number">Listing 7.6 </span><span class="caption-text">src/ComponentPeople.tsx</span><a class="headerlink" href="#id9" title="Link to this code"></a></div>
<div class="highlight-tsx notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kd">const</span><span class="w"> </span><span class="nx">ComponentPeople</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span>
<span class="linenos"> 2</span><span class="w">  </span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="w">  </span><span class="nx">firstName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Unknown Name&quot;</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="w">  </span><span class="nx">lastName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Unknown&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="w">  </span><span class="nx">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="nx">firstName</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="linenos"> 9</span><span class="w">  </span><span class="nx">lastName</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="linenos">10</span><span class="w">  </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="linenos">11</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">12</span><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">labelStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">13</span><span class="w">    </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;inline-block&quot;</span><span class="p">,</span>
<span class="linenos">14</span><span class="w">    </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;6rem&quot;</span><span class="p">,</span>
<span class="linenos">15</span><span class="w">  </span><span class="p">};</span>
<span class="linenos">16</span><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">itemStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">17</span><span class="w">    </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;inline-block&quot;</span><span class="p">,</span>
<span class="linenos">18</span><span class="w">    </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;20rem&quot;</span><span class="p">,</span>
<span class="linenos">19</span><span class="w">  </span><span class="p">};</span>
<span class="linenos">20</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">21</span><span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span>
<span class="linenos">22</span><span class="w">      </span><span class="na">style</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">marginTop</span><span class="o">:</span><span class="w"> </span><span class="kt">10</span><span class="p">,</span><span class="w"> </span><span class="nx">textAlign</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">marginLeft</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;40px&quot;</span><span class="w"> </span><span class="p">}}</span>
<span class="linenos">23</span><span class="w">      </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span>
<span class="linenos">24</span><span class="w">    </span><span class="p">&gt;</span>
<span class="linenos">25</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">26</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">labelStyle</span><span class="p">}&gt;</span><span class="nx">ID</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">27</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">itemStyle</span><span class="p">}</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;blue-color&quot;</span><span class="p">&gt;</span>
<span class="linenos">28</span><span class="w">          </span><span class="p">{</span><span class="nx">id</span><span class="p">}</span>
<span class="linenos">29</span><span class="w">        </span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">30</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">31</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">32</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">labelStyle</span><span class="p">}&gt;</span><span class="nx">First</span><span class="w"> </span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">33</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">itemStyle</span><span class="p">}&gt;{</span><span class="nx">firstName</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">34</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">35</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">36</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">labelStyle</span><span class="p">}&gt;</span><span class="nx">Last</span><span class="w"> </span><span class="nx">Name</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">37</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">itemStyle</span><span class="p">}&gt;{</span><span class="nx">lastName</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">38</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">39</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">40</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">label</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">labelStyle</span><span class="p">}&gt;</span><span class="nx">Age</span><span class="o">:</span><span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="linenos">41</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">span</span><span class="w"> </span><span class="na">style</span><span class="o">=</span><span class="p">{</span><span class="nx">itemStyle</span><span class="p">}&gt;{</span><span class="nx">age</span><span class="p">}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="linenos">42</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">43</span><span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">44</span><span class="w">  </span><span class="p">);</span>
<span class="linenos">45</span><span class="p">};</span>
<span class="linenos">46</span>
<span class="linenos">47</span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">ComponentPeople</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="components-for-handling-data-inputs">
<h3><span class="section-number">7.3.2. </span>Components for Handling Data Inputs<a class="headerlink" href="#components-for-handling-data-inputs" title="Link to this heading"></a></h3>
<blockquote>
<div><ul>
<li><p>Define a function component for adding new phone data.</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-number">Listing 7.7 </span><span class="caption-text">src/FormComponentPhone.tsx</span><a class="headerlink" href="#id10" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">useForm</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s2">&quot;react-hook-form&quot;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="s2">&quot;./App.css&quot;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="n">interface</span> <span class="n">FormComponentPhoneProps</span> <span class="p">{</span>
<span class="linenos"> 5</span>  <span class="n">serverError</span><span class="p">:</span> <span class="n">boolean</span><span class="p">;</span>
<span class="linenos"> 6</span>  <span class="n">addPhone</span><span class="p">:</span> <span class="p">({</span>
<span class="linenos"> 7</span>    <span class="n">name</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="n">capacity</span><span class="p">,</span>
<span class="linenos"> 9</span>    <span class="n">price</span><span class="p">,</span>
<span class="linenos">10</span>  <span class="p">}:</span> <span class="p">{</span>
<span class="linenos">11</span>    <span class="n">name</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">12</span>    <span class="n">capacity</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">13</span>    <span class="n">price</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">14</span>  <span class="p">})</span> <span class="o">=&gt;</span> <span class="n">Promise</span><span class="o">&lt;</span><span class="n">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="linenos">15</span><span class="p">}</span>
<span class="linenos">16</span><span class="n">interface</span> <span class="n">FormData</span> <span class="p">{</span>
<span class="linenos">17</span>  <span class="n">name</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">18</span>  <span class="n">capacity</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">19</span>  <span class="n">price</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">20</span><span class="p">}</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="n">const</span> <span class="n">FormComponentPhone</span><span class="p">:</span> <span class="n">React</span><span class="o">.</span><span class="n">FC</span><span class="o">&lt;</span><span class="n">FormComponentPhoneProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos">23</span>  <span class="n">const</span> <span class="p">{</span> <span class="n">serverError</span><span class="p">,</span> <span class="n">addPhone</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="o">...</span><span class="n">props</span> <span class="p">};</span>
<span class="linenos">24</span>  <span class="n">const</span> <span class="p">{</span> <span class="n">register</span><span class="p">,</span> <span class="n">handleSubmit</span><span class="p">,</span> <span class="n">reset</span> <span class="p">}</span> <span class="o">=</span> <span class="n">useForm</span><span class="o">&lt;</span><span class="n">FormData</span><span class="o">&gt;</span><span class="p">();</span>
<span class="linenos">25</span>
<span class="linenos">26</span>  <span class="n">const</span> <span class="n">labelStyle</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">27</span>    <span class="n">display</span><span class="p">:</span> <span class="s2">&quot;inline-block&quot;</span><span class="p">,</span>
<span class="linenos">28</span>    <span class="n">width</span><span class="p">:</span> <span class="s2">&quot;3rem&quot;</span><span class="p">,</span>
<span class="linenos">29</span>    <span class="n">marginRight</span><span class="p">:</span> <span class="s2">&quot;1.5rem&quot;</span><span class="p">,</span>
<span class="linenos">30</span>  <span class="p">};</span>
<span class="linenos">31</span>
<span class="linenos">32</span>  <span class="k">return</span> <span class="p">(</span>
<span class="linenos">33</span>    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">34</span>      <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App&quot;</span><span class="o">&gt;</span>
<span class="linenos">35</span>        <span class="o">&lt;</span><span class="n">form</span>
<span class="linenos">36</span>          <span class="n">onSubmit</span><span class="o">=</span><span class="p">{(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos">37</span>            <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
<span class="linenos">38</span>            <span class="n">void</span> <span class="n">handleSubmit</span><span class="p">(</span><span class="n">addPhone</span><span class="p">)();</span>
<span class="linenos">39</span>            <span class="n">reset</span><span class="p">();</span>
<span class="linenos">40</span>          <span class="p">}}</span>
<span class="linenos">41</span>        <span class="o">&gt;</span>
<span class="linenos">42</span>          <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">43</span>            <span class="o">&lt;</span><span class="n">label</span> <span class="n">htmlFor</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="n">labelStyle</span><span class="p">}</span><span class="o">&gt;</span>
<span class="linenos">44</span>              <span class="n">Name</span><span class="p">:</span>
<span class="linenos">45</span>            <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos">46</span>            <span class="o">&lt;</span><span class="nb">input</span>
<span class="linenos">47</span>              <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
<span class="linenos">48</span>              <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter phone name&quot;</span>
<span class="linenos">49</span>              <span class="p">{</span><span class="o">...</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)}</span>
<span class="linenos">50</span>            <span class="o">/&gt;</span>
<span class="linenos">51</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">52</span>          <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">53</span>            <span class="o">&lt;</span><span class="n">label</span> <span class="n">htmlFor</span><span class="o">=</span><span class="s2">&quot;capacity&quot;</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="n">labelStyle</span><span class="p">}</span><span class="o">&gt;</span>
<span class="linenos">54</span>              <span class="n">Capacity</span><span class="p">:</span>
<span class="linenos">55</span>            <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos">56</span>            <span class="o">&lt;</span><span class="nb">input</span>
<span class="linenos">57</span>              <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
<span class="linenos">58</span>              <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter phone capacity&quot;</span>
<span class="linenos">59</span>              <span class="p">{</span><span class="o">...</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;capacity&quot;</span><span class="p">)}</span>
<span class="linenos">60</span>            <span class="o">/&gt;</span>
<span class="linenos">61</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">62</span>          <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">63</span>            <span class="o">&lt;</span><span class="n">label</span> <span class="n">htmlFor</span><span class="o">=</span><span class="s2">&quot;price&quot;</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="n">labelStyle</span><span class="p">}</span><span class="o">&gt;</span>
<span class="linenos">64</span>              <span class="n">Price</span><span class="p">:</span>
<span class="linenos">65</span>            <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos">66</span>            <span class="o">&lt;</span><span class="nb">input</span>
<span class="linenos">67</span>              <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
<span class="linenos">68</span>              <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter price&quot;</span>
<span class="linenos">69</span>              <span class="p">{</span><span class="o">...</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">)}</span>
<span class="linenos">70</span>            <span class="o">/&gt;</span>
<span class="linenos">71</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">72</span>          <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">73</span>            <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Submit&quot;</span> <span class="n">disabled</span><span class="o">=</span><span class="p">{</span><span class="n">serverError</span><span class="p">}</span> <span class="o">/&gt;</span>
<span class="linenos">74</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">75</span>        <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
<span class="linenos">76</span>      <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">77</span>    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">78</span>  <span class="p">);</span>
<span class="linenos">79</span><span class="p">};</span>
<span class="linenos">80</span><span class="n">export</span> <span class="n">default</span> <span class="n">FormComponentPhone</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p>Define a function component for adding new people data.</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-number">Listing 7.8 </span><span class="caption-text">src/FormComponentPeople.tsx</span><a class="headerlink" href="#id11" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">useForm</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s2">&quot;react-hook-form&quot;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="s2">&quot;./App.css&quot;</span><span class="p">;</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="n">interface</span> <span class="n">FormComponentPeopleProps</span> <span class="p">{</span>
<span class="linenos"> 5</span>  <span class="n">serverError</span><span class="p">:</span> <span class="n">boolean</span><span class="p">;</span>
<span class="linenos"> 6</span>  <span class="n">addPeople</span><span class="p">:</span> <span class="p">({</span>
<span class="linenos"> 7</span>    <span class="n">firstName</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="n">lastName</span><span class="p">,</span>
<span class="linenos"> 9</span>    <span class="n">age</span><span class="p">,</span>
<span class="linenos">10</span>  <span class="p">}:</span> <span class="p">{</span>
<span class="linenos">11</span>    <span class="n">firstName</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">12</span>    <span class="n">lastName</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">13</span>    <span class="n">age</span><span class="p">:</span> <span class="n">number</span><span class="p">;</span>
<span class="linenos">14</span>  <span class="p">})</span> <span class="o">=&gt;</span> <span class="n">Promise</span><span class="o">&lt;</span><span class="n">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="linenos">15</span><span class="p">}</span>
<span class="linenos">16</span><span class="n">interface</span> <span class="n">FormData</span> <span class="p">{</span>
<span class="linenos">17</span>  <span class="n">firstName</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">18</span>  <span class="n">lastName</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">19</span>  <span class="n">age</span><span class="p">:</span> <span class="n">number</span><span class="p">;</span>
<span class="linenos">20</span><span class="p">}</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="n">const</span> <span class="n">FormComponentPeople</span><span class="p">:</span> <span class="n">React</span><span class="o">.</span><span class="n">FC</span><span class="o">&lt;</span><span class="n">FormComponentPeopleProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos">23</span>  <span class="n">const</span> <span class="p">{</span> <span class="n">serverError</span><span class="p">,</span> <span class="n">addPeople</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="o">...</span><span class="n">props</span> <span class="p">};</span>
<span class="linenos">24</span>  <span class="n">const</span> <span class="p">{</span> <span class="n">register</span><span class="p">,</span> <span class="n">handleSubmit</span><span class="p">,</span> <span class="n">reset</span> <span class="p">}</span> <span class="o">=</span> <span class="n">useForm</span><span class="o">&lt;</span><span class="n">FormData</span><span class="o">&gt;</span><span class="p">();</span>
<span class="linenos">25</span>
<span class="linenos">26</span>  <span class="n">const</span> <span class="n">labelStyle</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">27</span>    <span class="n">display</span><span class="p">:</span> <span class="s2">&quot;inline-block&quot;</span><span class="p">,</span>
<span class="linenos">28</span>    <span class="n">width</span><span class="p">:</span> <span class="s2">&quot;6rem&quot;</span><span class="p">,</span>
<span class="linenos">29</span>    <span class="n">marginRight</span><span class="p">:</span> <span class="s2">&quot;1.5rem&quot;</span><span class="p">,</span>
<span class="linenos">30</span>  <span class="p">};</span>
<span class="linenos">31</span>
<span class="linenos">32</span>  <span class="k">return</span> <span class="p">(</span>
<span class="linenos">33</span>    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">34</span>      <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;App&quot;</span><span class="o">&gt;</span>
<span class="linenos">35</span>        <span class="o">&lt;</span><span class="n">form</span>
<span class="linenos">36</span>          <span class="n">onSubmit</span><span class="o">=</span><span class="p">{(</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos">37</span>            <span class="n">e</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
<span class="linenos">38</span>            <span class="n">void</span> <span class="n">handleSubmit</span><span class="p">(</span><span class="n">addPeople</span><span class="p">)();</span>
<span class="linenos">39</span>            <span class="n">reset</span><span class="p">();</span>
<span class="linenos">40</span>          <span class="p">}}</span>
<span class="linenos">41</span>        <span class="o">&gt;</span>
<span class="linenos">42</span>          <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="mi">20</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">43</span>            <span class="o">&lt;</span><span class="n">label</span> <span class="n">htmlFor</span><span class="o">=</span><span class="s2">&quot;firstName&quot;</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="n">labelStyle</span><span class="p">}</span><span class="o">&gt;</span>
<span class="linenos">44</span>              <span class="n">First</span> <span class="n">Name</span><span class="p">:</span>
<span class="linenos">45</span>            <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos">46</span>            <span class="o">&lt;</span><span class="nb">input</span>
<span class="linenos">47</span>              <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
<span class="linenos">48</span>              <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter first name&quot;</span>
<span class="linenos">49</span>              <span class="p">{</span><span class="o">...</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;firstName&quot;</span><span class="p">)}</span>
<span class="linenos">50</span>            <span class="o">/&gt;</span>
<span class="linenos">51</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">52</span>          <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">53</span>            <span class="o">&lt;</span><span class="n">label</span> <span class="n">htmlFor</span><span class="o">=</span><span class="s2">&quot;lastName&quot;</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="n">labelStyle</span><span class="p">}</span><span class="o">&gt;</span>
<span class="linenos">54</span>              <span class="n">Last</span> <span class="n">Name</span><span class="p">:</span>
<span class="linenos">55</span>            <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos">56</span>            <span class="o">&lt;</span><span class="nb">input</span>
<span class="linenos">57</span>              <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
<span class="linenos">58</span>              <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter last name&quot;</span>
<span class="linenos">59</span>              <span class="p">{</span><span class="o">...</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;lastName&quot;</span><span class="p">)}</span>
<span class="linenos">60</span>            <span class="o">/&gt;</span>
<span class="linenos">61</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">62</span>          <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">63</span>            <span class="o">&lt;</span><span class="n">label</span> <span class="n">htmlFor</span><span class="o">=</span><span class="s2">&quot;age&quot;</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="n">labelStyle</span><span class="p">}</span><span class="o">&gt;</span>
<span class="linenos">64</span>              <span class="n">Age</span><span class="p">:</span>
<span class="linenos">65</span>            <span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="linenos">66</span>            <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;number&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Enter age&quot;</span> <span class="p">{</span><span class="o">...</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">)}</span> <span class="o">/&gt;</span>
<span class="linenos">67</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">68</span>          <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">69</span>            <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Submit&quot;</span> <span class="n">disabled</span><span class="o">=</span><span class="p">{</span><span class="n">serverError</span><span class="p">}</span> <span class="o">/&gt;</span>
<span class="linenos">70</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">71</span>        <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
<span class="linenos">72</span>      <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">73</span>    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">74</span>  <span class="p">);</span>
<span class="linenos">75</span><span class="p">};</span>
<span class="linenos">76</span><span class="n">export</span> <span class="n">default</span> <span class="n">FormComponentPeople</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="id1">
<h3><span class="section-number">7.3.3. </span>The Fetch API<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<section id="making-get-requests">
<h4><span class="section-number">7.3.3.1. </span>Making GET Requests<a class="headerlink" href="#making-get-requests" title="Link to this heading"></a></h4>
<blockquote>
<div><ul>
<li><p>Define a function component using fetch to get phones and peoples from two public servers.</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-number">Listing 7.9 </span><span class="caption-text">src/FetchGetComponent.tsx</span><a class="headerlink" href="#id12" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span>import React, { useState, useEffect, useRef } from &quot;react&quot;;
<span class="linenos">  2</span>import ComponentPhone from &quot;./ComponentPhone&quot;;
<span class="linenos">  3</span>import ComponentPeople from &quot;./ComponentPeople&quot;;
<span class="linenos">  4</span>import &quot;./App.css&quot;;
<span class="linenos">  5</span>
<span class="linenos">  6</span>interface Phone {
<span class="linenos">  7</span>  id: string;
<span class="linenos">  8</span>  name: string;
<span class="linenos">  9</span>  data: {
<span class="linenos"> 10</span>    Capacity: string;
<span class="linenos"> 11</span>    Price: string;
<span class="linenos"> 12</span>  };
<span class="linenos"> 13</span>}
<span class="linenos"> 14</span>interface People {
<span class="linenos"> 15</span>  id: number;
<span class="linenos"> 16</span>  firstName: string;
<span class="linenos"> 17</span>  lastName: string;
<span class="linenos"> 18</span>  age: number;
<span class="linenos"> 19</span>}
<span class="linenos"> 20</span>const FetchGetComponent: React.FC = () =&gt; {
<span class="linenos"> 21</span>  const [phones, setPhones] = useState&lt;Phone[]&gt;([]);
<span class="linenos"> 22</span>  const [isPhonesLoading, setPhonesLoading] = useState(true);
<span class="linenos"> 23</span>
<span class="linenos"> 24</span>  const [peoples, setPeoples] = useState&lt;People[]&gt;([]);
<span class="linenos"> 25</span>  const [isPeoplesLoading, setPeoplesLoading] = useState(true);
<span class="linenos"> 26</span>
<span class="linenos"> 27</span>  const getPhoneError = useRef&lt;HTMLDivElement&gt;(null);
<span class="linenos"> 28</span>  const getPeopleError = useRef&lt;HTMLDivElement&gt;(null);
<span class="linenos"> 29</span>
<span class="linenos"> 30</span>  useEffect(() =&gt; {
<span class="linenos"> 31</span>    const fetchPhones = async () =&gt; {
<span class="linenos"> 32</span>      await fetch(&quot;https://api.restful-api.dev/objects?id=12&amp;id=13&quot;)
<span class="linenos"> 33</span>        .then((response) =&gt; {
<span class="linenos"> 34</span>          if (response.ok) {
<span class="linenos"> 35</span>            return response.json() as unknown as Phone[];
<span class="linenos"> 36</span>          }
<span class="linenos"> 37</span>          throw new Error(`Failed to fetch data, Status: ${response.status}`);
<span class="linenos"> 38</span>        })
<span class="linenos"> 39</span>        .then((data) =&gt; {
<span class="linenos"> 40</span>          //console.log(data);
<span class="linenos"> 41</span>          setPhones(data);
<span class="linenos"> 42</span>          setPhonesLoading(false);
<span class="linenos"> 43</span>        })
<span class="linenos"> 44</span>        .catch((err) =&gt; {
<span class="linenos"> 45</span>          if (err instanceof Error) {
<span class="linenos"> 46</span>            //console.log(err.message); // Error message  output
<span class="linenos"> 47</span>            if (getPhoneError.current) {
<span class="linenos"> 48</span>              getPhoneError.current.textContent = err.message;
<span class="linenos"> 49</span>            }
<span class="linenos"> 50</span>          }
<span class="linenos"> 51</span>          setPhonesLoading(true);
<span class="linenos"> 52</span>        });
<span class="linenos"> 53</span>    };
<span class="linenos"> 54</span>    const fetchPeoples = async () =&gt; {
<span class="linenos"> 55</span>      await fetch(&quot;https://softwium.com/api/peoples?limit=2&quot;)
<span class="linenos"> 56</span>        .then((response) =&gt; {
<span class="linenos"> 57</span>          if (response.ok) {
<span class="linenos"> 58</span>            return response.json() as unknown as People[];
<span class="linenos"> 59</span>          }
<span class="linenos"> 60</span>          throw new Error(`Failed to fetch data, Status: ${response.status}`);
<span class="linenos"> 61</span>        })
<span class="linenos"> 62</span>        .then((data) =&gt; {
<span class="linenos"> 63</span>          //console.log(data);
<span class="linenos"> 64</span>          setPeoples(data);
<span class="linenos"> 65</span>          setPeoplesLoading(false);
<span class="linenos"> 66</span>        })
<span class="linenos"> 67</span>        .catch((err) =&gt; {
<span class="linenos"> 68</span>          if (err instanceof Error) {
<span class="linenos"> 69</span>            //console.log(err.message); // Error message  output
<span class="linenos"> 70</span>            if (getPeopleError.current) {
<span class="linenos"> 71</span>              getPeopleError.current.textContent = err.message;
<span class="linenos"> 72</span>            }
<span class="linenos"> 73</span>          }
<span class="linenos"> 74</span>          setPeoplesLoading(true);
<span class="linenos"> 75</span>        });
<span class="linenos"> 76</span>    };
<span class="linenos"> 77</span>    void fetchPhones();
<span class="linenos"> 78</span>    void fetchPeoples();
<span class="linenos"> 79</span>  }, []);
<span class="linenos"> 80</span>  return (
<span class="linenos"> 81</span>    &lt;&gt;
<span class="linenos"> 82</span>      &lt;div style={{ marginTop: &quot;20px&quot; }}&gt;
<span class="linenos"> 83</span>        &lt;h3&gt;Fetch Two Phone Objects&lt;/h3&gt;
<span class="linenos"> 84</span>        &lt;h5 className=&quot;blue-color&quot; style={{ marginTop: &quot;0px&quot; }}&gt;
<span class="linenos"> 85</span>          Server: https://api.restful-api.dev/objects
<span class="linenos"> 86</span>        &lt;/h5&gt;
<span class="linenos"> 87</span>        &lt;div&gt;
<span class="linenos"> 88</span>          &lt;h4&gt;Phone List&lt;/h4&gt;
<span class="linenos"> 89</span>          {isPhonesLoading &amp;&amp; (
<span class="linenos"> 90</span>            &lt;div&gt;
<span class="linenos"> 91</span>              &lt;div&gt;Loading...&lt;/div&gt;
<span class="linenos"> 92</span>              &lt;div className=&quot;red-color&quot; ref={getPhoneError}&gt;&lt;/div&gt;
<span class="linenos"> 93</span>            &lt;/div&gt;
<span class="linenos"> 94</span>          )}
<span class="linenos"> 95</span>          &lt;div&gt;
<span class="linenos"> 96</span>            {phones.length &gt; 0 &amp;&amp;
<span class="linenos"> 97</span>              phones.map((phone) =&gt; {
<span class="linenos"> 98</span>                return (
<span class="linenos"> 99</span>                  &lt;div key={phone.id} style={{ marginTop: &quot;10px&quot; }}&gt;
<span class="linenos">100</span>                    &lt;ComponentPhone
<span class="linenos">101</span>                      id={phone.id}
<span class="linenos">102</span>                      name={phone.name}
<span class="linenos">103</span>                      capacity={phone.data.Capacity}
<span class="linenos">104</span>                      price={phone.data.Price}
<span class="linenos">105</span>                    /&gt;
<span class="linenos">106</span>                  &lt;/div&gt;
<span class="linenos">107</span>                );
<span class="linenos">108</span>              })}
<span class="linenos">109</span>          &lt;/div&gt;
<span class="linenos">110</span>        &lt;/div&gt;
<span class="linenos">111</span>      &lt;/div&gt;
<span class="linenos">112</span>      &lt;div style={{ marginTop: &quot;20px&quot; }}&gt;
<span class="linenos">113</span>        &lt;h3&gt;Fetch Two Peoples&lt;/h3&gt;
<span class="linenos">114</span>        &lt;h5 className=&quot;blue-color&quot; style={{ marginTop: &quot;0px&quot; }}&gt;
<span class="linenos">115</span>          Server: https://softwium.com/api/peoples
<span class="linenos">116</span>        &lt;/h5&gt;
<span class="linenos">117</span>        &lt;div&gt;
<span class="linenos">118</span>          &lt;h4&gt;People List&lt;/h4&gt;
<span class="linenos">119</span>          {isPeoplesLoading &amp;&amp; (
<span class="linenos">120</span>            &lt;div&gt;
<span class="linenos">121</span>              &lt;div&gt;Loading...&lt;/div&gt;
<span class="linenos">122</span>              &lt;div className=&quot;red-color&quot; ref={getPeopleError}&gt;&lt;/div&gt;
<span class="linenos">123</span>            &lt;/div&gt;
<span class="linenos">124</span>          )}
<span class="linenos">125</span>          &lt;div&gt;
<span class="linenos">126</span>            {peoples.length &gt; 0 &amp;&amp;
<span class="linenos">127</span>              peoples.map((people) =&gt; {
<span class="linenos">128</span>                return (
<span class="linenos">129</span>                  &lt;div key={people.id} style={{ marginTop: &quot;10px&quot; }}&gt;
<span class="linenos">130</span>                    &lt;ComponentPeople
<span class="linenos">131</span>                      id={people.id}
<span class="linenos">132</span>                      firstName={people.firstName}
<span class="linenos">133</span>                      lastName={people.lastName}
<span class="linenos">134</span>                      age={people.age}
<span class="linenos">135</span>                    /&gt;
<span class="linenos">136</span>                  &lt;/div&gt;
<span class="linenos">137</span>                );
<span class="linenos">138</span>              })}
<span class="linenos">139</span>          &lt;/div&gt;
<span class="linenos">140</span>        &lt;/div&gt;
<span class="linenos">141</span>      &lt;/div&gt;
<span class="linenos">142</span>    &lt;/&gt;
<span class="linenos">143</span>  );
<span class="linenos">144</span>};
<span class="linenos">145</span>
<span class="linenos">146</span>export default FetchGetComponent;
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="making-post-requests">
<h4><span class="section-number">7.3.3.2. </span>Making POST Requests<a class="headerlink" href="#making-post-requests" title="Link to this heading"></a></h4>
<blockquote>
<div><ul>
<li><p>Define a function component using fetch to add new phone and people from two public servers.</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-number">Listing 7.10 </span><span class="caption-text">src/FetchPostComponent.tsx</span><a class="headerlink" href="#id13" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span>import React, { useState, useEffect, useRef } from &quot;react&quot;;
<span class="linenos">  2</span>import FormComponentPhone from &quot;./FormComponentPhone&quot;;
<span class="linenos">  3</span>import ComponentPhone from &quot;./ComponentPhone&quot;;
<span class="linenos">  4</span>import ComponentPeople from &quot;./ComponentPeople&quot;;
<span class="linenos">  5</span>import FormComponentPeople from &quot;./FormComponentPeople&quot;;
<span class="linenos">  6</span>import &quot;./App.css&quot;;
<span class="linenos">  7</span>
<span class="linenos">  8</span>interface Phone {
<span class="linenos">  9</span>  id: string;
<span class="linenos"> 10</span>  name: string;
<span class="linenos"> 11</span>  data: {
<span class="linenos"> 12</span>    Capacity: string;
<span class="linenos"> 13</span>    Price: string;
<span class="linenos"> 14</span>  };
<span class="linenos"> 15</span>}
<span class="linenos"> 16</span>interface People {
<span class="linenos"> 17</span>  id: number;
<span class="linenos"> 18</span>  firstName: string;
<span class="linenos"> 19</span>  lastName: string;
<span class="linenos"> 20</span>  age: number;
<span class="linenos"> 21</span>}
<span class="linenos"> 22</span>const FetchPostComponent: React.FC = () =&gt; {
<span class="linenos"> 23</span>  const [phones, setPhones] = useState&lt;Phone[]&gt;([]);
<span class="linenos"> 24</span>  const [isPhonesLoading, setPhonesLoading] = useState(true);
<span class="linenos"> 25</span>  const [isPhonesServerError, setPhonesServerError] = useState(false);
<span class="linenos"> 26</span>  const [peoples, setPeoples] = useState&lt;People[]&gt;([]);
<span class="linenos"> 27</span>  const [isPeoplesLoading, setPeoplesLoading] = useState(true);
<span class="linenos"> 28</span>
<span class="linenos"> 29</span>  const [isPeoplesServerError, setPeoplesServerError] = useState(false);
<span class="linenos"> 30</span>  const getPhoneError = useRef&lt;HTMLDivElement&gt;(null);
<span class="linenos"> 31</span>  const getPeopleError = useRef&lt;HTMLDivElement&gt;(null);
<span class="linenos"> 32</span>
<span class="linenos"> 33</span>  useEffect(() =&gt; {
<span class="linenos"> 34</span>    const fetchPhones = async () =&gt; {
<span class="linenos"> 35</span>      await fetch(&quot;https://api.restful-api.dev/objects?id=12&amp;id=13&quot;)
<span class="linenos"> 36</span>        .then((response) =&gt; {
<span class="linenos"> 37</span>          if (response.ok) {
<span class="linenos"> 38</span>            return response.json() as unknown as Phone[];
<span class="linenos"> 39</span>          }
<span class="linenos"> 40</span>          throw new Error(`Failed to fetch data, Status: ${response.status}`);
<span class="linenos"> 41</span>        })
<span class="linenos"> 42</span>        .then((data) =&gt; {
<span class="linenos"> 43</span>          //console.log(data);
<span class="linenos"> 44</span>          setPhones(data);
<span class="linenos"> 45</span>          setPhonesLoading(false);
<span class="linenos"> 46</span>        })
<span class="linenos"> 47</span>        .catch((err) =&gt; {
<span class="linenos"> 48</span>          if (err instanceof Error) {
<span class="linenos"> 49</span>            //console.log(err.message); // Error message  output
<span class="linenos"> 50</span>            if (getPhoneError.current) {
<span class="linenos"> 51</span>              getPhoneError.current.textContent = err.message;
<span class="linenos"> 52</span>            }
<span class="linenos"> 53</span>          }
<span class="linenos"> 54</span>          setPhonesServerError(true);
<span class="linenos"> 55</span>          setPhonesLoading(true);
<span class="linenos"> 56</span>        });
<span class="linenos"> 57</span>    };
<span class="linenos"> 58</span>    const fetchPeoples = async () =&gt; {
<span class="linenos"> 59</span>      await fetch(&quot;https://softwium.com/api/peoples?limit=2&quot;)
<span class="linenos"> 60</span>        .then((response) =&gt; {
<span class="linenos"> 61</span>          if (response.ok) {
<span class="linenos"> 62</span>            return response.json() as unknown as People[];
<span class="linenos"> 63</span>          }
<span class="linenos"> 64</span>          throw new Error(`Failed to fetch data, Status: ${response.status}`);
<span class="linenos"> 65</span>        })
<span class="linenos"> 66</span>        .then((data) =&gt; {
<span class="linenos"> 67</span>          //console.log(data);
<span class="linenos"> 68</span>          setPeoples(data);
<span class="linenos"> 69</span>          setPeoplesLoading(false);
<span class="linenos"> 70</span>        })
<span class="linenos"> 71</span>        .catch((err) =&gt; {
<span class="linenos"> 72</span>          if (err instanceof Error) {
<span class="linenos"> 73</span>            //console.log(err.message); // Error message  output
<span class="linenos"> 74</span>            if (getPeopleError.current) {
<span class="linenos"> 75</span>              getPeopleError.current.textContent = err.message;
<span class="linenos"> 76</span>            }
<span class="linenos"> 77</span>          }
<span class="linenos"> 78</span>          setPeoplesServerError(true);
<span class="linenos"> 79</span>          setPeoplesLoading(true);
<span class="linenos"> 80</span>        });
<span class="linenos"> 81</span>    };
<span class="linenos"> 82</span>    void fetchPhones();
<span class="linenos"> 83</span>    void fetchPeoples();
<span class="linenos"> 84</span>  }, []);
<span class="linenos"> 85</span>
<span class="linenos"> 86</span>  const addPhoneItem = async ({
<span class="linenos"> 87</span>    name,
<span class="linenos"> 88</span>    capacity,
<span class="linenos"> 89</span>    price,
<span class="linenos"> 90</span>  }: {
<span class="linenos"> 91</span>    name: string;
<span class="linenos"> 92</span>    capacity: string;
<span class="linenos"> 93</span>    price: string;
<span class="linenos"> 94</span>  }) =&gt; {
<span class="linenos"> 95</span>    await fetch(&quot;https://api.restful-api.dev/objects&quot;, {
<span class="linenos"> 96</span>      method: &quot;POST&quot;,
<span class="linenos"> 97</span>      body: JSON.stringify({
<span class="linenos"> 98</span>        name: name,
<span class="linenos"> 99</span>        data: {
<span class="linenos">100</span>          Capacity: capacity,
<span class="linenos">101</span>          Price: price,
<span class="linenos">102</span>        },
<span class="linenos">103</span>      }),
<span class="linenos">104</span>      headers: {
<span class="linenos">105</span>        &quot;Content-type&quot;: &quot;application/json; charset=UTF-8&quot;,
<span class="linenos">106</span>      },
<span class="linenos">107</span>    })
<span class="linenos">108</span>      .then((response) =&gt; response.json() as unknown as Phone)
<span class="linenos">109</span>      .then((data) =&gt; {
<span class="linenos">110</span>        setPhones((phones) =&gt; [...phones, data]);
<span class="linenos">111</span>        setPhonesLoading(false);
<span class="linenos">112</span>      })
<span class="linenos">113</span>      .catch((err) =&gt; {
<span class="linenos">114</span>        if (err instanceof Error) {
<span class="linenos">115</span>          console.log(err.message);
<span class="linenos">116</span>        }
<span class="linenos">117</span>        setPhonesServerError(true);
<span class="linenos">118</span>        setPhonesLoading(true);
<span class="linenos">119</span>      });
<span class="linenos">120</span>  };
<span class="linenos">121</span>  const addPeopleItem = async ({
<span class="linenos">122</span>    firstName,
<span class="linenos">123</span>    lastName,
<span class="linenos">124</span>    age,
<span class="linenos">125</span>  }: {
<span class="linenos">126</span>    firstName: string;
<span class="linenos">127</span>    lastName: string;
<span class="linenos">128</span>    age: number;
<span class="linenos">129</span>  }) =&gt; {
<span class="linenos">130</span>    await fetch(&quot;https://api.restful-api.dev/objects&quot;, {
<span class="linenos">131</span>      method: &quot;POST&quot;,
<span class="linenos">132</span>      body: JSON.stringify({
<span class="linenos">133</span>        firstName: firstName,
<span class="linenos">134</span>        lastName: lastName,
<span class="linenos">135</span>        age: age,
<span class="linenos">136</span>      }),
<span class="linenos">137</span>      headers: {
<span class="linenos">138</span>        &quot;Content-type&quot;: &quot;application/json; charset=UTF-8&quot;,
<span class="linenos">139</span>      },
<span class="linenos">140</span>    })
<span class="linenos">141</span>      .then((response) =&gt; response.json() as unknown as People)
<span class="linenos">142</span>      .then((data) =&gt; {
<span class="linenos">143</span>        if (!data.firstName) data.firstName = firstName;
<span class="linenos">144</span>        if (!data.lastName) data.lastName = lastName;
<span class="linenos">145</span>        if (!data.age) data.age = age;
<span class="linenos">146</span>        setPeoples((peoples) =&gt; [...peoples, data]);
<span class="linenos">147</span>        setPeoplesLoading(false);
<span class="linenos">148</span>      })
<span class="linenos">149</span>      .catch((err) =&gt; {
<span class="linenos">150</span>        if (err instanceof Error) {
<span class="linenos">151</span>          console.log(err.message);
<span class="linenos">152</span>        }
<span class="linenos">153</span>        setPeoplesServerError(true);
<span class="linenos">154</span>        setPeoplesLoading(true);
<span class="linenos">155</span>      });
<span class="linenos">156</span>  };
<span class="linenos">157</span>  return (
<span class="linenos">158</span>    &lt;&gt;
<span class="linenos">159</span>      &lt;div style={{ marginTop: &quot;20px&quot; }}&gt;
<span class="linenos">160</span>        &lt;h3&gt;Fetch Post: Add New Phone Item&lt;/h3&gt;
<span class="linenos">161</span>        &lt;h5 className=&quot;blue-color&quot; style={{ marginTop: &quot;0px&quot; }}&gt;
<span class="linenos">162</span>          Server: https://api.restful-api.dev/objects
<span class="linenos">163</span>        &lt;/h5&gt;
<span class="linenos">164</span>        &lt;FormComponentPhone
<span class="linenos">165</span>          serverError={isPhonesServerError}
<span class="linenos">166</span>          addPhone={addPhoneItem}
<span class="linenos">167</span>        /&gt;
<span class="linenos">168</span>        &lt;div&gt;
<span class="linenos">169</span>          &lt;h4&gt;Phone List&lt;/h4&gt;
<span class="linenos">170</span>          {isPhonesLoading &amp;&amp; (
<span class="linenos">171</span>            &lt;div&gt;
<span class="linenos">172</span>              &lt;div&gt;Loading...&lt;/div&gt;
<span class="linenos">173</span>              &lt;div className=&quot;red-color&quot; ref={getPhoneError}&gt;&lt;/div&gt;
<span class="linenos">174</span>            &lt;/div&gt;
<span class="linenos">175</span>          )}
<span class="linenos">176</span>          &lt;div&gt;
<span class="linenos">177</span>            {phones.length &gt; 0 &amp;&amp;
<span class="linenos">178</span>              phones.map((phone) =&gt; {
<span class="linenos">179</span>                return (
<span class="linenos">180</span>                  &lt;div key={phone.id} style={{ marginTop: &quot;10px&quot; }}&gt;
<span class="linenos">181</span>                    &lt;ComponentPhone
<span class="linenos">182</span>                      id={phone.id}
<span class="linenos">183</span>                      name={phone.name}
<span class="linenos">184</span>                      capacity={phone.data.Capacity}
<span class="linenos">185</span>                      price={phone.data.Price}
<span class="linenos">186</span>                    /&gt;
<span class="linenos">187</span>                  &lt;/div&gt;
<span class="linenos">188</span>                );
<span class="linenos">189</span>              })}
<span class="linenos">190</span>          &lt;/div&gt;
<span class="linenos">191</span>        &lt;/div&gt;
<span class="linenos">192</span>      &lt;/div&gt;
<span class="linenos">193</span>      &lt;div style={{ marginTop: &quot;20px&quot; }}&gt;
<span class="linenos">194</span>        &lt;h3&gt;Fetch Post: Add New People&lt;/h3&gt;
<span class="linenos">195</span>        &lt;h5 className=&quot;blue-color&quot; style={{ marginTop: &quot;0px&quot; }}&gt;
<span class="linenos">196</span>          Server: https://softwium.com/api/peoples
<span class="linenos">197</span>        &lt;/h5&gt;
<span class="linenos">198</span>        &lt;FormComponentPeople
<span class="linenos">199</span>          serverError={isPeoplesServerError}
<span class="linenos">200</span>          addPeople={addPeopleItem}
<span class="linenos">201</span>        /&gt;
<span class="linenos">202</span>        &lt;div&gt;
<span class="linenos">203</span>          &lt;h4&gt;People List&lt;/h4&gt;
<span class="linenos">204</span>          {isPeoplesLoading &amp;&amp; (
<span class="linenos">205</span>            &lt;div&gt;
<span class="linenos">206</span>              &lt;div&gt;Loading...&lt;/div&gt;
<span class="linenos">207</span>              &lt;div className=&quot;red-color&quot; ref={getPeopleError}&gt;&lt;/div&gt;
<span class="linenos">208</span>            &lt;/div&gt;
<span class="linenos">209</span>          )}
<span class="linenos">210</span>          &lt;div&gt;
<span class="linenos">211</span>            {peoples.length &gt; 0 &amp;&amp;
<span class="linenos">212</span>              peoples.map((people) =&gt; {
<span class="linenos">213</span>                return (
<span class="linenos">214</span>                  &lt;div key={people.id} style={{ marginTop: &quot;10px&quot; }}&gt;
<span class="linenos">215</span>                    &lt;ComponentPeople
<span class="linenos">216</span>                      id={people.id}
<span class="linenos">217</span>                      firstName={people.firstName}
<span class="linenos">218</span>                      lastName={people.lastName}
<span class="linenos">219</span>                      age={people.age}
<span class="linenos">220</span>                    /&gt;
<span class="linenos">221</span>                  &lt;/div&gt;
<span class="linenos">222</span>                );
<span class="linenos">223</span>              })}
<span class="linenos">224</span>          &lt;/div&gt;
<span class="linenos">225</span>        &lt;/div&gt;
<span class="linenos">226</span>      &lt;/div&gt;
<span class="linenos">227</span>    &lt;/&gt;
<span class="linenos">228</span>  );
<span class="linenos">229</span>};
<span class="linenos">230</span>
<span class="linenos">231</span>export default FetchPostComponent;
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="the-axios-api">
<h3><span class="section-number">7.3.4. </span>The axios API<a class="headerlink" href="#the-axios-api" title="Link to this heading"></a></h3>
<section id="id2">
<h4><span class="section-number">7.3.4.1. </span>Making GET Requests<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<blockquote>
<div><ul>
<li><p>Define a function component using axios to get phones and peoples from two public servers.</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-number">Listing 7.11 </span><span class="caption-text">src/AxiosGetComponent.tsx</span><a class="headerlink" href="#id14" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="kn">import</span><span class="w"> </span><span class="nn">React</span><span class="o">,</span><span class="w"> </span><span class="p">{</span> <span class="n">useState</span><span class="p">,</span> <span class="n">useEffect</span><span class="p">,</span> <span class="n">useRef</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s2">&quot;react&quot;</span><span class="p">;</span>
<span class="linenos">  2</span><span class="kn">import</span><span class="w"> </span><span class="nn">axios</span> <span class="kn">from</span><span class="w"> </span><span class="s2">&quot;axios&quot;</span><span class="p">;</span>
<span class="linenos">  3</span><span class="kn">import</span><span class="w"> </span><span class="nn">ComponentPhone</span> <span class="kn">from</span><span class="w"> </span><span class="s2">&quot;./ComponentPhone&quot;</span><span class="p">;</span>
<span class="linenos">  4</span><span class="kn">import</span><span class="w"> </span><span class="nn">ComponentPeople</span> <span class="kn">from</span><span class="w"> </span><span class="s2">&quot;./ComponentPeople&quot;</span><span class="p">;</span>
<span class="linenos">  5</span><span class="kn">import</span><span class="w"> </span><span class="s2">&quot;./App.css&quot;</span><span class="p">;</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="n">interface</span> <span class="n">Phone</span> <span class="p">{</span>
<span class="linenos">  8</span>  <span class="nb">id</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos">  9</span>  <span class="n">name</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos"> 10</span>  <span class="n">data</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos"> 11</span>    <span class="n">Capacity</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos"> 12</span>    <span class="n">Price</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos"> 13</span>  <span class="p">};</span>
<span class="linenos"> 14</span><span class="p">}</span>
<span class="linenos"> 15</span><span class="n">interface</span> <span class="n">People</span> <span class="p">{</span>
<span class="linenos"> 16</span>  <span class="nb">id</span><span class="p">:</span> <span class="n">number</span><span class="p">;</span>
<span class="linenos"> 17</span>  <span class="n">firstName</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos"> 18</span>  <span class="n">lastName</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="linenos"> 19</span>  <span class="n">age</span><span class="p">:</span> <span class="n">number</span><span class="p">;</span>
<span class="linenos"> 20</span><span class="p">}</span>
<span class="linenos"> 21</span><span class="n">const</span> <span class="n">AxiosGetComponent</span><span class="p">:</span> <span class="n">React</span><span class="o">.</span><span class="n">FC</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 22</span>  <span class="n">const</span> <span class="p">[</span><span class="n">phones</span><span class="p">,</span> <span class="n">setPhones</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="o">&lt;</span><span class="n">Phone</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">([]);</span>
<span class="linenos"> 23</span>  <span class="n">const</span> <span class="p">[</span><span class="n">isPhonesLoading</span><span class="p">,</span> <span class="n">setPhonesLoading</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span>  <span class="n">const</span> <span class="p">[</span><span class="n">peoples</span><span class="p">,</span> <span class="n">setPeoples</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="o">&lt;</span><span class="n">People</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">([]);</span>
<span class="linenos"> 26</span>  <span class="n">const</span> <span class="p">[</span><span class="n">isPeoplesLoading</span><span class="p">,</span> <span class="n">setPeoplesLoading</span><span class="p">]</span> <span class="o">=</span> <span class="n">useState</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span>  <span class="n">const</span> <span class="n">getPhoneError</span> <span class="o">=</span> <span class="n">useRef</span><span class="o">&lt;</span><span class="n">HTMLDivElement</span><span class="o">&gt;</span><span class="p">(</span><span class="n">null</span><span class="p">);</span>
<span class="linenos"> 29</span>  <span class="n">const</span> <span class="n">getPeopleError</span> <span class="o">=</span> <span class="n">useRef</span><span class="o">&lt;</span><span class="n">HTMLDivElement</span><span class="o">&gt;</span><span class="p">(</span><span class="n">null</span><span class="p">);</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span>  <span class="n">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 32</span>    <span class="n">const</span> <span class="n">getPhones</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 33</span>      <span class="k">await</span> <span class="n">axios</span>
<span class="linenos"> 34</span>        <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://api.restful-api.dev/objects?id=12&amp;id=13&quot;</span><span class="p">)</span>
<span class="linenos"> 35</span>        <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 36</span>          <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span> <span class="k">as</span> <span class="n">JSON</span> <span class="k">as</span> <span class="n">unknown</span> <span class="k">as</span> <span class="n">Phone</span><span class="p">[];</span>
<span class="linenos"> 37</span>        <span class="p">})</span>
<span class="linenos"> 38</span>        <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 39</span>          <span class="o">//</span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="linenos"> 40</span>          <span class="n">setPhones</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="linenos"> 41</span>          <span class="n">setPhonesLoading</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
<span class="linenos"> 42</span>        <span class="p">})</span>
<span class="linenos"> 43</span>        <span class="o">.</span><span class="n">catch</span><span class="p">((</span><span class="n">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 44</span>          <span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="n">instanceof</span> <span class="n">Error</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 45</span>            <span class="o">//</span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="p">);</span> <span class="o">//</span> <span class="n">Error</span> <span class="n">message</span>  <span class="n">output</span>
<span class="linenos"> 46</span>            <span class="k">if</span> <span class="p">(</span><span class="n">getPhoneError</span><span class="o">.</span><span class="n">current</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 47</span>              <span class="n">getPhoneError</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">textContent</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="p">;</span>
<span class="linenos"> 48</span>            <span class="p">}</span>
<span class="linenos"> 49</span>          <span class="p">}</span>
<span class="linenos"> 50</span>          <span class="n">setPhonesLoading</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
<span class="linenos"> 51</span>        <span class="p">});</span>
<span class="linenos"> 52</span>    <span class="p">};</span>
<span class="linenos"> 53</span>    <span class="n">const</span> <span class="n">getPeoples</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 54</span>      <span class="k">await</span> <span class="n">axios</span>
<span class="linenos"> 55</span>        <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://softwium.com/api/peoples?limit=2&quot;</span><span class="p">)</span>
<span class="linenos"> 56</span>        <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span> <span class="k">as</span> <span class="n">JSON</span> <span class="k">as</span> <span class="n">unknown</span> <span class="k">as</span> <span class="n">People</span><span class="p">[])</span>
<span class="linenos"> 57</span>        <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 58</span>          <span class="o">//</span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="linenos"> 59</span>          <span class="n">setPeoples</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="linenos"> 60</span>          <span class="n">setPeoplesLoading</span><span class="p">(</span><span class="n">false</span><span class="p">);</span>
<span class="linenos"> 61</span>        <span class="p">})</span>
<span class="linenos"> 62</span>        <span class="o">.</span><span class="n">catch</span><span class="p">((</span><span class="n">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 63</span>          <span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="n">instanceof</span> <span class="n">Error</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 64</span>            <span class="o">//</span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="p">);</span> <span class="o">//</span> <span class="n">Error</span> <span class="n">message</span>  <span class="n">output</span>
<span class="linenos"> 65</span>            <span class="k">if</span> <span class="p">(</span><span class="n">getPeopleError</span><span class="o">.</span><span class="n">current</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 66</span>              <span class="n">getPeopleError</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">textContent</span> <span class="o">=</span> <span class="n">err</span><span class="o">.</span><span class="n">message</span><span class="p">;</span>
<span class="linenos"> 67</span>            <span class="p">}</span>
<span class="linenos"> 68</span>          <span class="p">}</span>
<span class="linenos"> 69</span>          <span class="n">setPeoplesLoading</span><span class="p">(</span><span class="n">true</span><span class="p">);</span>
<span class="linenos"> 70</span>        <span class="p">});</span>
<span class="linenos"> 71</span>    <span class="p">};</span>
<span class="linenos"> 72</span>    <span class="n">void</span> <span class="n">getPhones</span><span class="p">();</span>
<span class="linenos"> 73</span>    <span class="n">void</span> <span class="n">getPeoples</span><span class="p">();</span>
<span class="linenos"> 74</span>  <span class="p">},</span> <span class="p">[]);</span>
<span class="linenos"> 75</span>  <span class="k">return</span> <span class="p">(</span>
<span class="linenos"> 76</span>    <span class="o">&lt;&gt;</span>
<span class="linenos"> 77</span>      <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="s2">&quot;20px&quot;</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos"> 78</span>        <span class="o">&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="n">Axios</span><span class="p">:</span> <span class="n">Get</span> <span class="n">Two</span> <span class="n">Phone</span> <span class="n">Objects</span><span class="o">&lt;/</span><span class="n">h3</span><span class="o">&gt;</span>
<span class="linenos"> 79</span>        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;blue-color&quot;</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="s2">&quot;0px&quot;</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos"> 80</span>          <span class="n">Server</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">restful</span><span class="o">-</span><span class="n">api</span><span class="o">.</span><span class="n">dev</span><span class="o">/</span><span class="n">objects</span>
<span class="linenos"> 81</span>        <span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
<span class="linenos"> 82</span>        <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos"> 83</span>          <span class="o">&lt;</span><span class="n">h4</span><span class="o">&gt;</span><span class="n">Phone</span> <span class="n">List</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>
<span class="linenos"> 84</span>          <span class="p">{</span><span class="n">isPhonesLoading</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
<span class="linenos"> 85</span>            <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos"> 86</span>              <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">Loading</span><span class="o">...&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos"> 87</span>              <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;red-color&quot;</span> <span class="n">ref</span><span class="o">=</span><span class="p">{</span><span class="n">getPhoneError</span><span class="p">}</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos"> 88</span>            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos"> 89</span>          <span class="p">)}</span>
<span class="linenos"> 90</span>          <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos"> 91</span>            <span class="p">{</span><span class="n">phones</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
<span class="linenos"> 92</span>              <span class="n">phones</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">phone</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos"> 93</span>                <span class="k">return</span> <span class="p">(</span>
<span class="linenos"> 94</span>                  <span class="o">&lt;</span><span class="n">div</span> <span class="n">key</span><span class="o">=</span><span class="p">{</span><span class="n">phone</span><span class="o">.</span><span class="n">id</span><span class="p">}</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="s2">&quot;10px&quot;</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos"> 95</span>                    <span class="o">&lt;</span><span class="n">ComponentPhone</span>
<span class="linenos"> 96</span>                      <span class="nb">id</span><span class="o">=</span><span class="p">{</span><span class="n">phone</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
<span class="linenos"> 97</span>                      <span class="n">name</span><span class="o">=</span><span class="p">{</span><span class="n">phone</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
<span class="linenos"> 98</span>                      <span class="n">capacity</span><span class="o">=</span><span class="p">{</span><span class="n">phone</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Capacity</span><span class="p">}</span>
<span class="linenos"> 99</span>                      <span class="n">price</span><span class="o">=</span><span class="p">{</span><span class="n">phone</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Price</span><span class="p">}</span>
<span class="linenos">100</span>                    <span class="o">/&gt;</span>
<span class="linenos">101</span>                  <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">102</span>                <span class="p">);</span>
<span class="linenos">103</span>              <span class="p">})}</span>
<span class="linenos">104</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">105</span>        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">106</span>      <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">107</span>      <span class="o">&lt;</span><span class="n">div</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="s2">&quot;20px&quot;</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">108</span>        <span class="o">&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="n">Axios</span><span class="p">:</span> <span class="n">Get</span> <span class="n">Two</span> <span class="n">Peoples</span><span class="o">&lt;/</span><span class="n">h3</span><span class="o">&gt;</span>
<span class="linenos">109</span>        <span class="o">&lt;</span><span class="n">h5</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;blue-color&quot;</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="s2">&quot;0px&quot;</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">110</span>          <span class="n">Server</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">softwium</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">peoples</span>
<span class="linenos">111</span>        <span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
<span class="linenos">112</span>        <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">113</span>          <span class="o">&lt;</span><span class="n">h4</span><span class="o">&gt;</span><span class="n">People</span> <span class="n">List</span><span class="o">&lt;/</span><span class="n">h4</span><span class="o">&gt;</span>
<span class="linenos">114</span>          <span class="p">{</span><span class="n">isPeoplesLoading</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
<span class="linenos">115</span>            <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">116</span>              <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">Loading</span><span class="o">...&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">117</span>              <span class="o">&lt;</span><span class="n">div</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;red-color&quot;</span> <span class="n">ref</span><span class="o">=</span><span class="p">{</span><span class="n">getPeopleError</span><span class="p">}</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">118</span>            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">119</span>          <span class="p">)}</span>
<span class="linenos">120</span>          <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">121</span>            <span class="p">{</span><span class="n">peoples</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
<span class="linenos">122</span>              <span class="n">peoples</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">people</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="linenos">123</span>                <span class="k">return</span> <span class="p">(</span>
<span class="linenos">124</span>                  <span class="o">&lt;</span><span class="n">div</span> <span class="n">key</span><span class="o">=</span><span class="p">{</span><span class="n">people</span><span class="o">.</span><span class="n">id</span><span class="p">}</span> <span class="n">style</span><span class="o">=</span><span class="p">{{</span> <span class="n">marginTop</span><span class="p">:</span> <span class="s2">&quot;10px&quot;</span> <span class="p">}}</span><span class="o">&gt;</span>
<span class="linenos">125</span>                    <span class="o">&lt;</span><span class="n">ComponentPeople</span>
<span class="linenos">126</span>                      <span class="nb">id</span><span class="o">=</span><span class="p">{</span><span class="n">people</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
<span class="linenos">127</span>                      <span class="n">firstName</span><span class="o">=</span><span class="p">{</span><span class="n">people</span><span class="o">.</span><span class="n">firstName</span><span class="p">}</span>
<span class="linenos">128</span>                      <span class="n">lastName</span><span class="o">=</span><span class="p">{</span><span class="n">people</span><span class="o">.</span><span class="n">lastName</span><span class="p">}</span>
<span class="linenos">129</span>                      <span class="n">age</span><span class="o">=</span><span class="p">{</span><span class="n">people</span><span class="o">.</span><span class="n">age</span><span class="p">}</span>
<span class="linenos">130</span>                    <span class="o">/&gt;</span>
<span class="linenos">131</span>                  <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">132</span>                <span class="p">);</span>
<span class="linenos">133</span>              <span class="p">})}</span>
<span class="linenos">134</span>          <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">135</span>        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">136</span>      <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="linenos">137</span>    <span class="o">&lt;/&gt;</span>
<span class="linenos">138</span>  <span class="p">);</span>
<span class="linenos">139</span><span class="p">};</span>
<span class="linenos">140</span>
<span class="linenos">141</span><span class="n">export</span> <span class="n">default</span> <span class="n">AxiosGetComponent</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="id3">
<h4><span class="section-number">7.3.4.2. </span>Making POST Requests<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<blockquote>
<div><ul>
<li><p>Define a function component using axios to add new phone and people from two public servers.</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-number">Listing 7.12 </span><span class="caption-text">src/AxiosPostComponent.tsx</span><a class="headerlink" href="#id15" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span>import React, { useState, useEffect, useRef } from &quot;react&quot;;
<span class="linenos">  2</span>import axios from &quot;axios&quot;;
<span class="linenos">  3</span>import FormComponentPhone from &quot;./FormComponentPhone&quot;;
<span class="linenos">  4</span>import ComponentPhone from &quot;./ComponentPhone&quot;;
<span class="linenos">  5</span>import ComponentPeople from &quot;./ComponentPeople&quot;;
<span class="linenos">  6</span>import FormComponentPeople from &quot;./FormComponentPeople&quot;;
<span class="linenos">  7</span>import &quot;./App.css&quot;;
<span class="linenos">  8</span>
<span class="linenos">  9</span>interface Phone {
<span class="linenos"> 10</span>  id: string;
<span class="linenos"> 11</span>  name: string;
<span class="linenos"> 12</span>  data: {
<span class="linenos"> 13</span>    Capacity: string;
<span class="linenos"> 14</span>    Price: string;
<span class="linenos"> 15</span>  };
<span class="linenos"> 16</span>}
<span class="linenos"> 17</span>interface People {
<span class="linenos"> 18</span>  id: number;
<span class="linenos"> 19</span>  firstName: string;
<span class="linenos"> 20</span>  lastName: string;
<span class="linenos"> 21</span>  age: number;
<span class="linenos"> 22</span>}
<span class="linenos"> 23</span>const AxiosPostComponent: React.FC = () =&gt; {
<span class="linenos"> 24</span>  const [phones, setPhones] = useState&lt;Phone[]&gt;([]);
<span class="linenos"> 25</span>  const [isPhonesLoading, setPhonesLoading] = useState(true);
<span class="linenos"> 26</span>  const [isPhonesServerError, setPhonesServerError] = useState(false);
<span class="linenos"> 27</span>  const [peoples, setPeoples] = useState&lt;People[]&gt;([]);
<span class="linenos"> 28</span>  const [isPeoplesLoading, setPeoplesLoading] = useState(true);
<span class="linenos"> 29</span>
<span class="linenos"> 30</span>  const [isPeoplesServerError, setPeoplesServerError] = useState(false);
<span class="linenos"> 31</span>  const getPhoneError = useRef&lt;HTMLDivElement&gt;(null);
<span class="linenos"> 32</span>  const getPeopleError = useRef&lt;HTMLDivElement&gt;(null);
<span class="linenos"> 33</span>
<span class="linenos"> 34</span>  useEffect(() =&gt; {
<span class="linenos"> 35</span>    const getPhones = async () =&gt; {
<span class="linenos"> 36</span>      await axios
<span class="linenos"> 37</span>        .get(&quot;https://api.restful-api.dev/objects?id=12&amp;id=13&quot;)
<span class="linenos"> 38</span>        .then((response) =&gt; {
<span class="linenos"> 39</span>          return response.data as JSON as unknown as Phone[];
<span class="linenos"> 40</span>        })
<span class="linenos"> 41</span>        .then((data) =&gt; {
<span class="linenos"> 42</span>          //console.log(data);
<span class="linenos"> 43</span>          setPhones(data);
<span class="linenos"> 44</span>          setPhonesLoading(false);
<span class="linenos"> 45</span>        })
<span class="linenos"> 46</span>        .catch((err) =&gt; {
<span class="linenos"> 47</span>          if (err instanceof Error) {
<span class="linenos"> 48</span>            //console.log(err.message); // Error message  output
<span class="linenos"> 49</span>            if (getPhoneError.current) {
<span class="linenos"> 50</span>              getPhoneError.current.textContent = err.message;
<span class="linenos"> 51</span>            }
<span class="linenos"> 52</span>          }
<span class="linenos"> 53</span>          setPhonesLoading(true);
<span class="linenos"> 54</span>        });
<span class="linenos"> 55</span>    };
<span class="linenos"> 56</span>    const getPeoples = async () =&gt; {
<span class="linenos"> 57</span>      await axios
<span class="linenos"> 58</span>        .get(&quot;https://softwium.com/api/peoples?limit=2&quot;)
<span class="linenos"> 59</span>        .then((response) =&gt; response.data as JSON as unknown as People[])
<span class="linenos"> 60</span>        .then((data) =&gt; {
<span class="linenos"> 61</span>          //console.log(data);
<span class="linenos"> 62</span>          setPeoples(data);
<span class="linenos"> 63</span>          setPeoplesLoading(false);
<span class="linenos"> 64</span>        })
<span class="linenos"> 65</span>        .catch((err) =&gt; {
<span class="linenos"> 66</span>          if (err instanceof Error) {
<span class="linenos"> 67</span>            //console.log(err.message); // Error message  output
<span class="linenos"> 68</span>            if (getPeopleError.current) {
<span class="linenos"> 69</span>              getPeopleError.current.textContent = err.message;
<span class="linenos"> 70</span>            }
<span class="linenos"> 71</span>          }
<span class="linenos"> 72</span>          setPeoplesLoading(true);
<span class="linenos"> 73</span>        });
<span class="linenos"> 74</span>    };
<span class="linenos"> 75</span>    void getPhones();
<span class="linenos"> 76</span>    void getPeoples();
<span class="linenos"> 77</span>  }, []);
<span class="linenos"> 78</span>
<span class="linenos"> 79</span>  const addPhoneItem = async ({
<span class="linenos"> 80</span>    name,
<span class="linenos"> 81</span>    capacity,
<span class="linenos"> 82</span>    price,
<span class="linenos"> 83</span>  }: {
<span class="linenos"> 84</span>    name: string;
<span class="linenos"> 85</span>    capacity: string;
<span class="linenos"> 86</span>    price: string;
<span class="linenos"> 87</span>  }) =&gt; {
<span class="linenos"> 88</span>    await axios
<span class="linenos"> 89</span>      .post(&quot;https://api.restful-api.dev/objects&quot;, {
<span class="linenos"> 90</span>        name: name,
<span class="linenos"> 91</span>        data: {
<span class="linenos"> 92</span>          Capacity: capacity,
<span class="linenos"> 93</span>          Price: price,
<span class="linenos"> 94</span>        },
<span class="linenos"> 95</span>      })
<span class="linenos"> 96</span>      .then((response) =&gt; response.data as JSON as unknown as Phone)
<span class="linenos"> 97</span>      .then((data) =&gt; {
<span class="linenos"> 98</span>        setPhones((phones) =&gt; [...phones, data]);
<span class="linenos"> 99</span>        setPhonesLoading(false);
<span class="linenos">100</span>      })
<span class="linenos">101</span>      .catch((err) =&gt; {
<span class="linenos">102</span>        if (err instanceof Error) {
<span class="linenos">103</span>          console.log(err.message);
<span class="linenos">104</span>        }
<span class="linenos">105</span>        setPhonesServerError(true);
<span class="linenos">106</span>        setPhonesLoading(true);
<span class="linenos">107</span>      });
<span class="linenos">108</span>  };
<span class="linenos">109</span>  const addPeopleItem = async ({
<span class="linenos">110</span>    firstName,
<span class="linenos">111</span>    lastName,
<span class="linenos">112</span>    age,
<span class="linenos">113</span>  }: {
<span class="linenos">114</span>    firstName: string;
<span class="linenos">115</span>    lastName: string;
<span class="linenos">116</span>    age: number;
<span class="linenos">117</span>  }) =&gt; {
<span class="linenos">118</span>    await axios
<span class="linenos">119</span>      .post(&quot;https://api.restful-api.dev/objects&quot;, {
<span class="linenos">120</span>        firstName: firstName,
<span class="linenos">121</span>        lastName: lastName,
<span class="linenos">122</span>        age: age,
<span class="linenos">123</span>      })
<span class="linenos">124</span>      .then((response) =&gt; response.data as JSON as unknown as People)
<span class="linenos">125</span>      .then((data) =&gt; {
<span class="linenos">126</span>        if (!data.firstName) data.firstName = firstName;
<span class="linenos">127</span>        if (!data.lastName) data.lastName = lastName;
<span class="linenos">128</span>        if (!data.age) data.age = age;
<span class="linenos">129</span>        setPeoples((peoples) =&gt; [...peoples, data]);
<span class="linenos">130</span>        setPeoplesLoading(false);
<span class="linenos">131</span>      })
<span class="linenos">132</span>      .catch((err) =&gt; {
<span class="linenos">133</span>        if (err instanceof Error) {
<span class="linenos">134</span>          console.log(err.message);
<span class="linenos">135</span>        }
<span class="linenos">136</span>        setPeoplesServerError(true);
<span class="linenos">137</span>        setPeoplesLoading(true);
<span class="linenos">138</span>      });
<span class="linenos">139</span>  };
<span class="linenos">140</span>  return (
<span class="linenos">141</span>    &lt;&gt;
<span class="linenos">142</span>      &lt;div style={{ marginTop: &quot;20px&quot; }}&gt;
<span class="linenos">143</span>        &lt;h3&gt;Axios Post: Add New Phone Item&lt;/h3&gt;
<span class="linenos">144</span>        &lt;h5 className=&quot;blue-color&quot; style={{ marginTop: &quot;0px&quot; }}&gt;
<span class="linenos">145</span>          Server: https://api.restful-api.dev/objects
<span class="linenos">146</span>        &lt;/h5&gt;
<span class="linenos">147</span>        &lt;FormComponentPhone
<span class="linenos">148</span>          serverError={isPhonesServerError}
<span class="linenos">149</span>          addPhone={addPhoneItem}
<span class="linenos">150</span>        /&gt;
<span class="linenos">151</span>        &lt;div&gt;
<span class="linenos">152</span>          &lt;h4&gt;Phone List&lt;/h4&gt;
<span class="linenos">153</span>          {isPhonesLoading &amp;&amp; (
<span class="linenos">154</span>            &lt;div&gt;
<span class="linenos">155</span>              &lt;div&gt;Loading...&lt;/div&gt;
<span class="linenos">156</span>              &lt;div className=&quot;red-color&quot; ref={getPhoneError}&gt;&lt;/div&gt;
<span class="linenos">157</span>            &lt;/div&gt;
<span class="linenos">158</span>          )}
<span class="linenos">159</span>          &lt;div&gt;
<span class="linenos">160</span>            {phones.length &gt; 0 &amp;&amp;
<span class="linenos">161</span>              phones.map((phone) =&gt; {
<span class="linenos">162</span>                return (
<span class="linenos">163</span>                  &lt;div key={phone.id} style={{ marginTop: &quot;10px&quot; }}&gt;
<span class="linenos">164</span>                    &lt;ComponentPhone
<span class="linenos">165</span>                      id={phone.id}
<span class="linenos">166</span>                      name={phone.name}
<span class="linenos">167</span>                      capacity={phone.data.Capacity}
<span class="linenos">168</span>                      price={phone.data.Price}
<span class="linenos">169</span>                    /&gt;
<span class="linenos">170</span>                  &lt;/div&gt;
<span class="linenos">171</span>                );
<span class="linenos">172</span>              })}
<span class="linenos">173</span>          &lt;/div&gt;
<span class="linenos">174</span>        &lt;/div&gt;
<span class="linenos">175</span>      &lt;/div&gt;
<span class="linenos">176</span>      &lt;div style={{ marginTop: &quot;20px&quot; }}&gt;
<span class="linenos">177</span>        &lt;h3&gt;Axios Post: Add New People&lt;/h3&gt;
<span class="linenos">178</span>        &lt;h5 className=&quot;blue-color&quot; style={{ marginTop: &quot;0px&quot; }}&gt;
<span class="linenos">179</span>          Server: https://softwium.com/api/peoples
<span class="linenos">180</span>        &lt;/h5&gt;
<span class="linenos">181</span>        &lt;FormComponentPeople
<span class="linenos">182</span>          serverError={isPeoplesServerError}
<span class="linenos">183</span>          addPeople={addPeopleItem}
<span class="linenos">184</span>        /&gt;
<span class="linenos">185</span>        &lt;div&gt;
<span class="linenos">186</span>          &lt;h4&gt;People List&lt;/h4&gt;
<span class="linenos">187</span>          {isPeoplesLoading &amp;&amp; (
<span class="linenos">188</span>            &lt;div&gt;
<span class="linenos">189</span>              &lt;div&gt;Loading...&lt;/div&gt;
<span class="linenos">190</span>              &lt;div className=&quot;red-color&quot; ref={getPeopleError}&gt;&lt;/div&gt;
<span class="linenos">191</span>            &lt;/div&gt;
<span class="linenos">192</span>          )}
<span class="linenos">193</span>          &lt;div&gt;
<span class="linenos">194</span>            {peoples.length &gt; 0 &amp;&amp;
<span class="linenos">195</span>              peoples.map((people) =&gt; {
<span class="linenos">196</span>                return (
<span class="linenos">197</span>                  &lt;div key={people.id} style={{ marginTop: &quot;10px&quot; }}&gt;
<span class="linenos">198</span>                    &lt;ComponentPeople
<span class="linenos">199</span>                      id={people.id}
<span class="linenos">200</span>                      firstName={people.firstName}
<span class="linenos">201</span>                      lastName={people.lastName}
<span class="linenos">202</span>                      age={people.age}
<span class="linenos">203</span>                    /&gt;
<span class="linenos">204</span>                  &lt;/div&gt;
<span class="linenos">205</span>                );
<span class="linenos">206</span>              })}
<span class="linenos">207</span>          &lt;/div&gt;
<span class="linenos">208</span>        &lt;/div&gt;
<span class="linenos">209</span>      &lt;/div&gt;
<span class="linenos">210</span>    &lt;/&gt;
<span class="linenos">211</span>  );
<span class="linenos">212</span>};
<span class="linenos">213</span>
<span class="linenos">214</span>export default AxiosPostComponent;
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="function-component-the-user-interface">
<h3><span class="section-number">7.3.5. </span>Function Component - the User Interface<a class="headerlink" href="#function-component-the-user-interface" title="Link to this heading"></a></h3>
<blockquote>
<div><ul>
<li><p>Create a function component to show the user interface</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-number">Listing 7.13 </span><span class="caption-text">src/FunctionComponentsDisplay.tsx</span><a class="headerlink" href="#id16" title="Link to this code"></a></div>
<div class="highlight-tsx notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">import</span><span class="w"> </span><span class="nx">AxiosGetComponent</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./AxiosGetComponent&quot;</span><span class="p">;</span>
<span class="linenos"> 2</span><span class="k">import</span><span class="w"> </span><span class="nx">AxiosPostComponent</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./AxiosPostComponent&quot;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="k">import</span><span class="w"> </span><span class="nx">FetchGetComponent</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./FetchGetComponent&quot;</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="k">import</span><span class="w"> </span><span class="nx">FetchPostComponent</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./FetchPostComponent&quot;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="k">import</span><span class="w"> </span><span class="s2">&quot;./list-style.css&quot;</span><span class="p">;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="kd">const</span><span class="w"> </span><span class="nx">FunctionComponentsDisplay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-container&quot;</span><span class="p">&gt;</span>
<span class="linenos">10</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">React</span><span class="w"> </span><span class="nx">RESTful</span><span class="w"> </span><span class="nx">API</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="linenos">11</span><span class="w">      </span><span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
<span class="linenos">12</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">li</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item&quot;</span><span class="p">&gt;</span>
<span class="linenos">13</span><span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item-number&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">14</span><span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item-content&quot;</span><span class="p">&gt;</span>
<span class="linenos">15</span><span class="w">            </span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">Fetch</span><span class="w"> </span><span class="nx">API</span><span class="o">:</span><span class="w"> </span><span class="kt">GET</span><span class="w"> </span><span class="nx">Requests</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="linenos">16</span><span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">17</span><span class="w">              </span><span class="p">&lt;</span><span class="nt">FetchGetComponent</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="linenos">18</span><span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">19</span><span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">20</span><span class="w">        </span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="linenos">21</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">li</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item&quot;</span><span class="p">&gt;</span>
<span class="linenos">22</span><span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item-number&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">23</span><span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item-content&quot;</span><span class="p">&gt;</span>
<span class="linenos">24</span><span class="w">            </span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">Fetch</span><span class="w"> </span><span class="nx">API</span><span class="o">:</span><span class="w"> </span><span class="kt">Post</span><span class="w"> </span><span class="nx">Requests</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="linenos">25</span><span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">26</span><span class="w">              </span><span class="p">&lt;</span><span class="nt">FetchPostComponent</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="linenos">27</span><span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">28</span><span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">29</span><span class="w">        </span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="linenos">30</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">li</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item&quot;</span><span class="p">&gt;</span>
<span class="linenos">31</span><span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item-number&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">32</span><span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item-content&quot;</span><span class="p">&gt;</span>
<span class="linenos">33</span><span class="w">            </span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">Axios</span><span class="w"> </span><span class="nx">API</span><span class="o">:</span><span class="w"> </span><span class="kt">GET</span><span class="w"> </span><span class="nx">Requests</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="linenos">34</span><span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">35</span><span class="w">              </span><span class="p">&lt;</span><span class="nt">AxiosGetComponent</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="linenos">36</span><span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">37</span><span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">38</span><span class="w">        </span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="linenos">39</span><span class="w">        </span><span class="p">&lt;</span><span class="nt">li</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item&quot;</span><span class="p">&gt;</span>
<span class="linenos">40</span><span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item-number&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">41</span><span class="w">          </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;list-item-content&quot;</span><span class="p">&gt;</span>
<span class="linenos">42</span><span class="w">            </span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">Axios</span><span class="w"> </span><span class="nx">API</span><span class="o">:</span><span class="w"> </span><span class="kt">Post</span><span class="w"> </span><span class="nx">Requests</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="linenos">43</span><span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">44</span><span class="w">              </span><span class="p">&lt;</span><span class="nt">AxiosPostComponent</span><span class="w"> </span><span class="p">/&gt;</span>
<span class="linenos">45</span><span class="w">            </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">46</span><span class="w">          </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">47</span><span class="w">        </span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="linenos">48</span><span class="w">      </span><span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
<span class="linenos">49</span><span class="w">    </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="linenos">50</span><span class="w">  </span><span class="p">);</span>
<span class="linenos">51</span><span class="p">};</span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">FunctionComponentsDisplay</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">App.tsx</span></code> to render the component</p>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-number">Listing 7.14 </span><span class="caption-text">src/App.tsx</span><a class="headerlink" href="#id17" title="Link to this code"></a></div>
<div class="highlight-tsx notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">import</span><span class="w"> </span><span class="nx">FunctionComponentsDisplay</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./FunctionComponentsDisplay&quot;</span><span class="p">;</span>
<span class="linenos">2</span><span class="k">import</span><span class="w"> </span><span class="s2">&quot;./App.css&quot;</span><span class="p">;</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="kd">function</span><span class="w"> </span><span class="nx">App</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">5</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">FunctionComponentsDisplay</span><span class="w"> </span><span class="p">/&gt;;</span>
<span class="linenos">6</span><span class="p">}</span>
<span class="linenos">7</span>
<span class="linenos">8</span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">App</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="run-the-development-app">
<h2><span class="section-number">7.4. </span>Run the development app<a class="headerlink" href="#run-the-development-app" title="Link to this heading"></a></h2>
<blockquote>
<div><ul>
<li><p>Run dev</p>
<blockquote>
<div><div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>yarn<span class="w"> </span>dev
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="hosting-the-react-app-on-github-pages">
<h2><span class="section-number">7.5. </span>Hosting the React App on GitHub Pages<a class="headerlink" href="#hosting-the-react-app-on-github-pages" title="Link to this heading"></a></h2>
<section id="build-the-app">
<h3><span class="section-number">7.5.1. </span>Build the App<a class="headerlink" href="#build-the-app" title="Link to this heading"></a></h3>
<blockquote>
<div><ul>
<li><p>Configure the build base url:</p>
<blockquote>
<div><ul>
<li><p>open vite.config.js file</p></li>
<li><p>set base to <code class="docutils literal notranslate"><span class="pre">/react-projects/react-projects-with-typescript/tut07-react-restapi/</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">default</span> <span class="n">defineConfig</span><span class="p">({</span>
    <span class="n">plugins</span><span class="p">:</span> <span class="p">[</span><span class="n">react</span><span class="p">()],</span>
    <span class="n">base</span><span class="p">:</span> <span class="s2">&quot;/react-projects/react-projects-with-typescript/tut07-react-restapi/&quot;</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Build the app</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yarn</span> <span class="n">run</span> <span class="n">build</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</section>
<section id="hosting-the-app">
<h3><span class="section-number">7.5.2. </span>Hosting the App<a class="headerlink" href="#hosting-the-app" title="Link to this heading"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Hosting address: <a class="reference external" href="https://&lt;USERNAME&gt;.github.io/react-projects/react-projects-with-typescript/tut07-react-restapi/">https://&lt;USERNAME&gt;.github.io/react-projects/react-projects-with-typescript/tut07-react-restapi/</a></p></li>
<li><p>Github login as &lt;USERNAME&gt;</p></li>
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">react-projects</span></code> repo if not exist</p></li>
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch in the <code class="docutils literal notranslate"><span class="pre">react-projects</span></code> repo if not exist</p></li>
<li><p>Push the &lt;dist&gt; folder contents to the deploying folder <code class="docutils literal notranslate"><span class="pre">react-projects-with-typescript/tut07-react-restapi/</span></code> in the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="sources-and-demos">
<h2><span class="section-number">7.6. </span>Sources and Demos<a class="headerlink" href="#sources-and-demos" title="Link to this heading"></a></h2>
<blockquote>
<div><ul>
<li><p>Sources: <a class="reference external" href="https://github.com/david-ggs-230/react-projects/tree/main/react-projects-with-typescript/tut07-react-restapi">https://github.com/david-ggs-230/react-projects/tree/main/react-projects-with-typescript/tut07-react-restapi</a></p></li>
<li><p>Live Demo: <a class="reference external" href="https://david-ggs-230.github.io/react-projects/react-projects-with-typescript/tut07-react-restapi/">https://david-ggs-230.github.io/react-projects/react-projects-with-typescript/tut07-react-restapi/</a></p></li>
<li><p>Screenshot</p>
<blockquote>
<div><figure class="align-center" id="id18">
<a class="sd-my-2 reference internal image-reference" href="../_images/tut07-react-restapi.png"><img alt="React RESTful APIs" class="sd-my-2" src="../_images/tut07-react-restapi.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 7.1 </span><span class="caption-text"><span class="sd-text-primary sd-font-weight-bold">React RESTful APIs</span></span><a class="headerlink" href="#id18" title="Link to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tut06-react-form.html" class="btn btn-neutral float-left" title="6. React Form" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tut08-react-router.html" class="btn btn-neutral float-right" title="8. React Router" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, David G..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>